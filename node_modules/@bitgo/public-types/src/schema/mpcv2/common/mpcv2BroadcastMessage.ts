import * as t from "io-ts";
import { MPCv2PartyFromStringOrNumber } from "./mpcv2PartyFromStringOrNumber";

export const MPCv2BroadcastMessage = t.type(
  {
    from: MPCv2PartyFromStringOrNumber,
    message: t.string,
    signature: t.string,
  },
  "MPCv2BroadcastMessage",
);

export type MPCv2BroadcastMessage = t.TypeOf<typeof MPCv2BroadcastMessage>;

export const MPCv2BroadcastMessageWithSignatureR = t.intersection([
  MPCv2BroadcastMessage,
  t.type({
    signatureR: t.string,
  }),
]);

export type MPCv2BroadcastMessageWithSignatureR = t.TypeOf<
  typeof MPCv2BroadcastMessageWithSignatureR
>;
