"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.KeyPair = void 0;
const abstract_cosmos_1 = require("@bitgo/abstract-cosmos");
const constants_1 = require("./constants");
const encoding_1 = require("@cosmjs/encoding");
const utils_1 = require("ethers/lib/utils");
/**
 * Islm keys and address management.
 */
class KeyPair extends abstract_cosmos_1.CosmosKeyPair {
    constructor(source) {
        super(source);
    }
    /** @inheritdoc */
    getAddress() {
        return (0, encoding_1.toBech32)(constants_1.ADDRESS_PREFIX, (0, encoding_1.fromHex)((0, utils_1.computeAddress)('0x' + this.getKeys().pub).slice(2)));
    }
}
exports.KeyPair = KeyPair;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2V5UGFpci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIva2V5UGFpci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSw0REFBdUQ7QUFDdkQsMkNBQTZDO0FBQzdDLCtDQUFxRDtBQUNyRCw0Q0FBa0Q7QUFFbEQ7O0dBRUc7QUFDSCxNQUFhLE9BQVEsU0FBUSwrQkFBYTtJQUN4QyxZQUFZLE1BQXVCO1FBQ2pDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNoQixDQUFDO0lBRUQsa0JBQWtCO0lBQ2xCLFVBQVU7UUFDUixPQUFPLElBQUEsbUJBQVEsRUFBQywwQkFBYyxFQUFFLElBQUEsa0JBQU8sRUFBQyxJQUFBLHNCQUFjLEVBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQy9GLENBQUM7Q0FDRjtBQVRELDBCQVNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgS2V5UGFpck9wdGlvbnMgfSBmcm9tICdAYml0Z28vc2RrLWNvcmUnO1xuaW1wb3J0IHsgQ29zbW9zS2V5UGFpciB9IGZyb20gJ0BiaXRnby9hYnN0cmFjdC1jb3Ntb3MnO1xuaW1wb3J0IHsgQUREUkVTU19QUkVGSVggfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyB0b0JlY2gzMiwgZnJvbUhleCB9IGZyb20gJ0Bjb3NtanMvZW5jb2RpbmcnO1xuaW1wb3J0IHsgY29tcHV0ZUFkZHJlc3MgfSBmcm9tICdldGhlcnMvbGliL3V0aWxzJztcblxuLyoqXG4gKiBJc2xtIGtleXMgYW5kIGFkZHJlc3MgbWFuYWdlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIEtleVBhaXIgZXh0ZW5kcyBDb3Ntb3NLZXlQYWlyIHtcbiAgY29uc3RydWN0b3Ioc291cmNlPzogS2V5UGFpck9wdGlvbnMpIHtcbiAgICBzdXBlcihzb3VyY2UpO1xuICB9XG5cbiAgLyoqIEBpbmhlcml0ZG9jICovXG4gIGdldEFkZHJlc3MoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdG9CZWNoMzIoQUREUkVTU19QUkVGSVgsIGZyb21IZXgoY29tcHV0ZUFkZHJlc3MoJzB4JyArIHRoaXMuZ2V0S2V5cygpLnB1Yikuc2xpY2UoMikpKTtcbiAgfVxufVxuIl19