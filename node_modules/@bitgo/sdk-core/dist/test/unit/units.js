"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const bignumber_js_1 = __importDefault(require("bignumber.js"));
require("should");
const src_1 = require("../../src");
describe('units', () => {
    describe('toFullUnits', () => {
        it('should convert numbers into full units', () => {
            (0, src_1.toFullUnits)(0, 'susd').should.equal('0');
            (0, src_1.toFullUnits)(75, 'susd').should.equal('0.75');
            (0, src_1.toFullUnits)(-100, 'susd').should.equal('-1');
            (0, src_1.toFullUnits)(0, 'btc').should.equal('0');
            (0, src_1.toFullUnits)(75, 'btc').should.equal('7.5e-7');
            (0, src_1.toFullUnits)(750000, 'btc').should.equal('0.0075');
            (0, src_1.toFullUnits)(-7500000, 'btc').should.equal('-0.075');
        });
        it('should convert big numbers into full units', () => {
            (0, src_1.toFullUnits)((0, bignumber_js_1.default)(0), 'susd').should.equal('0');
            (0, src_1.toFullUnits)((0, bignumber_js_1.default)(75), 'susd').should.equal('0.75');
            (0, src_1.toFullUnits)((0, bignumber_js_1.default)('7500000000000'), 'susd').should.equal('75000000000');
            (0, src_1.toFullUnits)((0, bignumber_js_1.default)('750000000000000000000000000'), 'susd').should.equal('7.5e+24');
            (0, src_1.toFullUnits)((0, bignumber_js_1.default)(-100), 'susd').should.equal('-1');
            (0, src_1.toFullUnits)((0, bignumber_js_1.default)(0), 'btc').should.equal('0');
            (0, src_1.toFullUnits)((0, bignumber_js_1.default)(75), 'btc').should.equal('7.5e-7');
            (0, src_1.toFullUnits)((0, bignumber_js_1.default)(750000), 'btc').should.equal('0.0075');
            (0, src_1.toFullUnits)((0, bignumber_js_1.default)(-7500000), 'btc').should.equal('-0.075');
            (0, src_1.toFullUnits)((0, bignumber_js_1.default)('75000000000000000000000000'), 'btc').should.equal('750000000000000000');
        });
    });
    describe('toFullUnitsFixed', () => {
        it('should convert numbers into full fixed units', () => {
            (0, src_1.toFullUnitsFixed)(0, 'susd').should.equal('0.00');
            (0, src_1.toFullUnitsFixed)(75, 'susd').should.equal('0.75');
            (0, src_1.toFullUnitsFixed)(-100, 'susd').should.equal('-1.00');
            (0, src_1.toFullUnitsFixed)(0, 'btc').should.equal('0.00000000');
            (0, src_1.toFullUnitsFixed)(75, 'btc').should.equal('0.00000075');
            (0, src_1.toFullUnitsFixed)(750000, 'btc').should.equal('0.00750000');
            (0, src_1.toFullUnitsFixed)(-7500000, 'btc').should.equal('-0.07500000');
        });
        it('should convert big numbers into full fixed units', () => {
            (0, src_1.toFullUnitsFixed)((0, bignumber_js_1.default)(0), 'susd').should.equal('0.00');
            (0, src_1.toFullUnitsFixed)((0, bignumber_js_1.default)(75), 'susd').should.equal('0.75');
            (0, src_1.toFullUnitsFixed)((0, bignumber_js_1.default)('7500000000000'), 'susd').should.equal('75000000000.00');
            (0, src_1.toFullUnitsFixed)((0, bignumber_js_1.default)('750000000000000000000000000'), 'susd').should.equal('7500000000000000000000000.00');
            (0, src_1.toFullUnitsFixed)((0, bignumber_js_1.default)(-100), 'susd').should.equal('-1.00');
            (0, src_1.toFullUnitsFixed)((0, bignumber_js_1.default)(0), 'btc').should.equal('0.00000000');
            (0, src_1.toFullUnitsFixed)((0, bignumber_js_1.default)(75), 'btc').should.equal('0.00000075');
            (0, src_1.toFullUnitsFixed)((0, bignumber_js_1.default)(750000), 'btc').should.equal('0.00750000');
            (0, src_1.toFullUnitsFixed)((0, bignumber_js_1.default)(-7500000), 'btc').should.equal('-0.07500000');
            (0, src_1.toFullUnitsFixed)((0, bignumber_js_1.default)('75000000000000000000000000'), 'btc').should.equal('750000000000000000.00000000');
        });
    });
    describe('toBaseUnits', () => {
        it('should convert into base units', () => {
            (0, src_1.toBaseUnits)(0, 'susd').should.equal('0');
            (0, src_1.toBaseUnits)('0.75', 'susd').should.equal('75');
            (0, src_1.toBaseUnits)('-1.00', 'susd').should.equal('-100');
            (0, src_1.toBaseUnits)('0', 'btc').should.equal('0');
            (0, src_1.toBaseUnits)('0.000000000', 'btc').should.equal('0');
            (0, src_1.toBaseUnits)('0.00000075', 'btc').should.equal('75');
            (0, src_1.toBaseUnits)('0.00750000', 'btc').should.equal('750000');
            (0, src_1.toBaseUnits)('-0.07500000', 'btc').should.equal('-7500000');
        });
        it('should convert big numbers into base units', () => {
            (0, src_1.toBaseUnits)((0, bignumber_js_1.default)(0), 'susd').should.equal('0');
            (0, src_1.toBaseUnits)((0, bignumber_js_1.default)(75), 'susd').should.equal('7500');
            (0, src_1.toBaseUnits)((0, bignumber_js_1.default)('7500000000000'), 'susd').should.equal('750000000000000');
            (0, src_1.toBaseUnits)((0, bignumber_js_1.default)('750000000000000000000000000'), 'susd').should.equal('7.5e+28');
            (0, src_1.toBaseUnits)((0, bignumber_js_1.default)(-100), 'susd').should.equal('-10000');
            (0, src_1.toBaseUnits)((0, bignumber_js_1.default)(0), 'btc').should.equal('0');
            (0, src_1.toBaseUnits)((0, bignumber_js_1.default)(75), 'btc').should.equal('7500000000');
            (0, src_1.toBaseUnits)((0, bignumber_js_1.default)(750000), 'btc').should.equal('75000000000000');
            (0, src_1.toBaseUnits)((0, bignumber_js_1.default)(-7500000), 'btc').should.equal('-750000000000000');
            (0, src_1.toBaseUnits)((0, bignumber_js_1.default)('75000000000000000000000000'), 'btc').should.equal('7.5e+33');
        });
    });
    describe('toMarketValueBaseUnits', () => {
        it('should convert into market value base units', () => {
            (0, src_1.toMarketValueBaseUnits)('susd', 1, 0).should.equal(BigInt(0));
            (0, src_1.toMarketValueBaseUnits)('susd', 1, 10).should.equal(BigInt(10));
            (0, src_1.toMarketValueBaseUnits)('susd', 70000000, 0).should.equal(BigInt(0));
            (0, src_1.toMarketValueBaseUnits)('susd', 70000000, 10).should.equal(BigInt(700000000));
            (0, src_1.toMarketValueBaseUnits)('btc', 1, 0).should.equal(BigInt(0));
            (0, src_1.toMarketValueBaseUnits)('btc', 1, 10).should.equal(BigInt(0));
            (0, src_1.toMarketValueBaseUnits)('btc', 70000000, 0).should.equal(BigInt(0));
            (0, src_1.toMarketValueBaseUnits)('btc', 70000000, 10).should.equal(BigInt(700));
            (0, src_1.toMarketValueBaseUnits)('btc', (0, bignumber_js_1.default)('7000000000000000000000000'), 10).should.equal(BigInt('69999999999999999280'));
        });
        it('should allow changing the numerator of the trading pair', () => {
            // $3.38 market value for 1 eth at 338.2582 cents market price
            (0, src_1.toMarketValueBaseUnits)('teth', 338.2582, BigInt(10000000000000000).toString(), 'tsusd').should.equal(BigInt(338));
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5pdHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi90ZXN0L3VuaXQvdW5pdHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxnRUFBcUM7QUFDckMsa0JBQWdCO0FBQ2hCLG1DQUErRjtBQUUvRixRQUFRLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtJQUNyQixRQUFRLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtRQUMzQixFQUFFLENBQUMsd0NBQXdDLEVBQUUsR0FBRyxFQUFFO1lBQ2hELElBQUEsaUJBQVcsRUFBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6QyxJQUFBLGlCQUFXLEVBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDN0MsSUFBQSxpQkFBVyxFQUFDLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDN0MsSUFBQSxpQkFBVyxFQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3hDLElBQUEsaUJBQVcsRUFBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM5QyxJQUFBLGlCQUFXLEVBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDbEQsSUFBQSxpQkFBVyxFQUFDLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEQsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsNENBQTRDLEVBQUUsR0FB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QyxDQUFDLENBQUM7WUFDNUQsSUFBQSw0QkFBc0IsRUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDN0QsSUFBQSw0QkFBc0IsRUFBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkUsSUFBQSw0QkFBc0IsRUFBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDdEUsSUFBQSw0QkFBc0IsRUFBQyxLQUFLLEVBQUUsSUFBQSxzQkFBUyxFQUFDLDJCQUEyQixDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FDcEYsTUFBTSxDQUFDLHNCQUFzQixDQUFDLENBQy9CLENBQUM7UUFDSixDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx5REFBeUQsRUFBRSxHQUFHLEVBQUU7WUFDakUsOERBQThEO1lBQzlELElBQUEsNEJBQXNCLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCaWdOdW1iZXIgZnJvbSAnYmlnbnVtYmVyLmpzJztcbmltcG9ydCAnc2hvdWxkJztcbmltcG9ydCB7IHRvRnVsbFVuaXRzLCB0b0Z1bGxVbml0c0ZpeGVkLCB0b0Jhc2VVbml0cywgdG9NYXJrZXRWYWx1ZUJhc2VVbml0cyB9IGZyb20gJy4uLy4uL3NyYyc7XG5cbmRlc2NyaWJlKCd1bml0cycsICgpID0+IHtcbiAgZGVzY3JpYmUoJ3RvRnVsbFVuaXRzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29udmVydCBudW1iZXJzIGludG8gZnVsbCB1bml0cycsICgpID0+IHtcbiAgICAgIHRvRnVsbFVuaXRzKDAsICdzdXNkJykuc2hvdWxkLmVxdWFsKCcwJyk7XG4gICAgICB0b0Z1bGxVbml0cyg3NSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJzAuNzUnKTtcbiAgICAgIHRvRnVsbFVuaXRzKC0xMDAsICdzdXNkJykuc2hvdWxkLmVxdWFsKCctMScpO1xuICAgICAgdG9GdWxsVW5pdHMoMCwgJ2J0YycpLnNob3VsZC5lcXVhbCgnMCcpO1xuICAgICAgdG9GdWxsVW5pdHMoNzUsICdidGMnKS5zaG91bGQuZXF1YWwoJzcuNWUtNycpO1xuICAgICAgdG9GdWxsVW5pdHMoNzUwMDAwLCAnYnRjJykuc2hvdWxkLmVxdWFsKCcwLjAwNzUnKTtcbiAgICAgIHRvRnVsbFVuaXRzKC03NTAwMDAwLCAnYnRjJykuc2hvdWxkLmVxdWFsKCctMC4wNzUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY29udmVydCBiaWcgbnVtYmVycyBpbnRvIGZ1bGwgdW5pdHMnLCAoKSA9PiB7XG4gICAgICB0b0Z1bGxVbml0cyhCaWdOdW1iZXIoMCksICdzdXNkJykuc2hvdWxkLmVxdWFsKCcwJyk7XG4gICAgICB0b0Z1bGxVbml0cyhCaWdOdW1iZXIoNzUpLCAnc3VzZCcpLnNob3VsZC5lcXVhbCgnMC43NScpO1xuICAgICAgdG9GdWxsVW5pdHMoQmlnTnVtYmVyKCc3NTAwMDAwMDAwMDAwJyksICdzdXNkJykuc2hvdWxkLmVxdWFsKCc3NTAwMDAwMDAwMCcpO1xuICAgICAgdG9GdWxsVW5pdHMoQmlnTnVtYmVyKCc3NTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJzcuNWUrMjQnKTtcbiAgICAgIHRvRnVsbFVuaXRzKEJpZ051bWJlcigtMTAwKSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJy0xJyk7XG4gICAgICB0b0Z1bGxVbml0cyhCaWdOdW1iZXIoMCksICdidGMnKS5zaG91bGQuZXF1YWwoJzAnKTtcbiAgICAgIHRvRnVsbFVuaXRzKEJpZ051bWJlcig3NSksICdidGMnKS5zaG91bGQuZXF1YWwoJzcuNWUtNycpO1xuICAgICAgdG9GdWxsVW5pdHMoQmlnTnVtYmVyKDc1MDAwMCksICdidGMnKS5zaG91bGQuZXF1YWwoJzAuMDA3NScpO1xuICAgICAgdG9GdWxsVW5pdHMoQmlnTnVtYmVyKC03NTAwMDAwKSwgJ2J0YycpLnNob3VsZC5lcXVhbCgnLTAuMDc1Jyk7XG4gICAgICB0b0Z1bGxVbml0cyhCaWdOdW1iZXIoJzc1MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyksICdidGMnKS5zaG91bGQuZXF1YWwoJzc1MDAwMDAwMDAwMDAwMDAwMCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndG9GdWxsVW5pdHNGaXhlZCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbnZlcnQgbnVtYmVycyBpbnRvIGZ1bGwgZml4ZWQgdW5pdHMnLCAoKSA9PiB7XG4gICAgICB0b0Z1bGxVbml0c0ZpeGVkKDAsICdzdXNkJykuc2hvdWxkLmVxdWFsKCcwLjAwJyk7XG4gICAgICB0b0Z1bGxVbml0c0ZpeGVkKDc1LCAnc3VzZCcpLnNob3VsZC5lcXVhbCgnMC43NScpO1xuICAgICAgdG9GdWxsVW5pdHNGaXhlZCgtMTAwLCAnc3VzZCcpLnNob3VsZC5lcXVhbCgnLTEuMDAnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoMCwgJ2J0YycpLnNob3VsZC5lcXVhbCgnMC4wMDAwMDAwMCcpO1xuICAgICAgdG9GdWxsVW5pdHNGaXhlZCg3NSwgJ2J0YycpLnNob3VsZC5lcXVhbCgnMC4wMDAwMDA3NScpO1xuICAgICAgdG9GdWxsVW5pdHNGaXhlZCg3NTAwMDAsICdidGMnKS5zaG91bGQuZXF1YWwoJzAuMDA3NTAwMDAnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoLTc1MDAwMDAsICdidGMnKS5zaG91bGQuZXF1YWwoJy0wLjA3NTAwMDAwJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNvbnZlcnQgYmlnIG51bWJlcnMgaW50byBmdWxsIGZpeGVkIHVuaXRzJywgKCkgPT4ge1xuICAgICAgdG9GdWxsVW5pdHNGaXhlZChCaWdOdW1iZXIoMCksICdzdXNkJykuc2hvdWxkLmVxdWFsKCcwLjAwJyk7XG4gICAgICB0b0Z1bGxVbml0c0ZpeGVkKEJpZ051bWJlcig3NSksICdzdXNkJykuc2hvdWxkLmVxdWFsKCcwLjc1Jyk7XG4gICAgICB0b0Z1bGxVbml0c0ZpeGVkKEJpZ051bWJlcignNzUwMDAwMDAwMDAwMCcpLCAnc3VzZCcpLnNob3VsZC5lcXVhbCgnNzUwMDAwMDAwMDAuMDAnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoQmlnTnVtYmVyKCc3NTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJzc1MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAuMDAnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoQmlnTnVtYmVyKC0xMDApLCAnc3VzZCcpLnNob3VsZC5lcXVhbCgnLTEuMDAnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoQmlnTnVtYmVyKDApLCAnYnRjJykuc2hvdWxkLmVxdWFsKCcwLjAwMDAwMDAwJyk7XG4gICAgICB0b0Z1bGxVbml0c0ZpeGVkKEJpZ051bWJlcig3NSksICdidGMnKS5zaG91bGQuZXF1YWwoJzAuMDAwMDAwNzUnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoQmlnTnVtYmVyKDc1MDAwMCksICdidGMnKS5zaG91bGQuZXF1YWwoJzAuMDA3NTAwMDAnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoQmlnTnVtYmVyKC03NTAwMDAwKSwgJ2J0YycpLnNob3VsZC5lcXVhbCgnLTAuMDc1MDAwMDAnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoQmlnTnVtYmVyKCc3NTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcpLCAnYnRjJykuc2hvdWxkLmVxdWFsKCc3NTAwMDAwMDAwMDAwMDAwMDAuMDAwMDAwMDAnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3RvQmFzZVVuaXRzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29udmVydCBpbnRvIGJhc2UgdW5pdHMnLCAoKSA9PiB7XG4gICAgICB0b0Jhc2VVbml0cygwLCAnc3VzZCcpLnNob3VsZC5lcXVhbCgnMCcpO1xuICAgICAgdG9CYXNlVW5pdHMoJzAuNzUnLCAnc3VzZCcpLnNob3VsZC5lcXVhbCgnNzUnKTtcbiAgICAgIHRvQmFzZVVuaXRzKCctMS4wMCcsICdzdXNkJykuc2hvdWxkLmVxdWFsKCctMTAwJyk7XG4gICAgICB0b0Jhc2VVbml0cygnMCcsICdidGMnKS5zaG91bGQuZXF1YWwoJzAnKTtcbiAgICAgIHRvQmFzZVVuaXRzKCcwLjAwMDAwMDAwMCcsICdidGMnKS5zaG91bGQuZXF1YWwoJzAnKTtcbiAgICAgIHRvQmFzZVVuaXRzKCcwLjAwMDAwMDc1JywgJ2J0YycpLnNob3VsZC5lcXVhbCgnNzUnKTtcbiAgICAgIHRvQmFzZVVuaXRzKCcwLjAwNzUwMDAwJywgJ2J0YycpLnNob3VsZC5lcXVhbCgnNzUwMDAwJyk7XG4gICAgICB0b0Jhc2VVbml0cygnLTAuMDc1MDAwMDAnLCAnYnRjJykuc2hvdWxkLmVxdWFsKCctNzUwMDAwMCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjb252ZXJ0IGJpZyBudW1iZXJzIGludG8gYmFzZSB1bml0cycsICgpID0+IHtcbiAgICAgIHRvQmFzZVVuaXRzKEJpZ051bWJlcigwKSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJzAnKTtcbiAgICAgIHRvQmFzZVVuaXRzKEJpZ051bWJlcig3NSksICdzdXNkJykuc2hvdWxkLmVxdWFsKCc3NTAwJyk7XG4gICAgICB0b0Jhc2VVbml0cyhCaWdOdW1iZXIoJzc1MDAwMDAwMDAwMDAnKSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJzc1MDAwMDAwMDAwMDAwMCcpO1xuICAgICAgdG9CYXNlVW5pdHMoQmlnTnVtYmVyKCc3NTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJzcuNWUrMjgnKTtcbiAgICAgIHRvQmFzZVVuaXRzKEJpZ051bWJlcigtMTAwKSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJy0xMDAwMCcpO1xuICAgICAgdG9CYXNlVW5pdHMoQmlnTnVtYmVyKDApLCAnYnRjJykuc2hvdWxkLmVxdWFsKCcwJyk7XG4gICAgICB0b0Jhc2VVbml0cyhCaWdOdW1iZXIoNzUpLCAnYnRjJykuc2hvdWxkLmVxdWFsKCc3NTAwMDAwMDAwJyk7XG4gICAgICB0b0Jhc2VVbml0cyhCaWdOdW1iZXIoNzUwMDAwKSwgJ2J0YycpLnNob3VsZC5lcXVhbCgnNzUwMDAwMDAwMDAwMDAnKTtcbiAgICAgIHRvQmFzZVVuaXRzKEJpZ051bWJlcigtNzUwMDAwMCksICdidGMnKS5zaG91bGQuZXF1YWwoJy03NTAwMDAwMDAwMDAwMDAnKTtcbiAgICAgIHRvQmFzZVVuaXRzKEJpZ051bWJlcignNzUwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKSwgJ2J0YycpLnNob3VsZC5lcXVhbCgnNy41ZSszMycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndG9NYXJrZXRWYWx1ZUJhc2VVbml0cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbnZlcnQgaW50byBtYXJrZXQgdmFsdWUgYmFzZSB1bml0cycsICgpID0+IHtcbiAgICAgIHRvTWFya2V0VmFsdWVCYXNlVW5pdHMoJ3N1c2QnLCAxLCAwKS5zaG91bGQuZXF1YWwoQmlnSW50KDApKTtcbiAgICAgIHRvTWFya2V0VmFsdWVCYXNlVW5pdHMoJ3N1c2QnLCAxLCAxMCkuc2hvdWxkLmVxdWFsKEJpZ0ludCgxMCkpO1xuICAgICAgdG9NYXJrZXRWYWx1ZUJhc2VVbml0cygnc3VzZCcsIDcwMDAwMDAwLCAwKS5zaG91bGQuZXF1YWwoQmlnSW50KDApKTtcbiAgICAgIHRvTWFya2V0VmFsdWVCYXNlVW5pdHMoJ3N1c2QnLCA3MDAwMDAwMCwgMTApLnNob3VsZC5lcXVhbChCaWdJbnQoNzAwMDAwMDAwKSk7XG4gICAgICB0b01hcmtldFZhbHVlQmFzZVVuaXRzKCdidGMnLCAxLCAwKS5zaG91bGQuZXF1YWwoQmlnSW50KDApKTtcbiAgICAgIHRvTWFya2V0VmFsdWVCYXNlVW5pdHMoJ2J0YycsIDEsIDEwKS5zaG91bGQuZXF1YWwoQmlnSW50KDApKTtcbiAgICAgIHRvTWFya2V0VmFsdWVCYXNlVW5pdHMoJ2J0YycsIDcwMDAwMDAwLCAwKS5zaG91bGQuZXF1YWwoQmlnSW50KDApKTtcbiAgICAgIHRvTWFya2V0VmFsdWVCYXNlVW5pdHMoJ2J0YycsIDcwMDAwMDAwLCAxMCkuc2hvdWxkLmVxdWFsKEJpZ0ludCg3MDApKTtcbiAgICAgIHRvTWFya2V0VmFsdWVCYXNlVW5pdHMoJ2J0YycsIEJpZ051bWJlcignNzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcpLCAxMCkuc2hvdWxkLmVxdWFsKFxuICAgICAgICBCaWdJbnQoJzY5OTk5OTk5OTk5OTk5OTk5MjgwJylcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFsbG93IGNoYW5naW5nIHRoZSBudW1lcmF0b3Igb2YgdGhlIHRyYWRpbmcgcGFpcicsICgpID0+IHtcbiAgICAgIC8vICQzLjM4IG1hcmtldCB2YWx1ZSBmb3IgMSBldGggYXQgMzM4LjI1ODIgY2VudHMgbWFya2V0IHByaWNlXG4gICAgICB0b01hcmtldFZhbHVlQmFzZVVuaXRzKCd0ZXRoJywgMzM4LjI1ODIsIEJpZ0ludCgxMDAwMDAwMDAwMDAwMDAwMCkudG9TdHJpbmcoKSwgJ3RzdXNkJykuc2hvdWxkLmVxdWFsKEJpZ0ludCgzMzgpKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==