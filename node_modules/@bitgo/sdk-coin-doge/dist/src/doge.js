"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Doge = void 0;
const abstract_utxo_1 = require("@bitgo/abstract-utxo");
const utxo_lib_1 = require("@bitgo/utxo-lib");
function parseUnspents(unspents) {
    return unspents.map((unspent) => {
        if (typeof unspent.value === 'bigint') {
            return unspent;
        }
        if ('valueString' in unspent) {
            return { ...unspent, value: BigInt(unspent.valueString) };
        }
        if (typeof unspent.value === 'number') {
            throw new Error(`received Unspent<number> where Unspent<bigint> or UnspentJSON was expected`);
        }
        throw new Error('invalid unspent');
    });
}
function parseTransactionInfo(txInfo) {
    if (txInfo.unspents) {
        return { ...txInfo, unspents: parseUnspents(txInfo.unspents) };
    }
    return { ...txInfo, unspents: undefined };
}
function parseTransactionPrebuild(txPrebuild) {
    if (txPrebuild === null || txPrebuild === void 0 ? void 0 : txPrebuild.txInfo) {
        return { ...txPrebuild, txInfo: parseTransactionInfo(txPrebuild.txInfo) };
    }
    return txPrebuild;
}
class Doge extends abstract_utxo_1.AbstractUtxoCoin {
    constructor(bitgo, network) {
        super(bitgo, network || utxo_lib_1.networks.dogecoin, 'bigint');
    }
    static createInstance(bitgo) {
        return new Doge(bitgo);
    }
    getChain() {
        return 'doge';
    }
    getFamily() {
        return 'doge';
    }
    getFullName() {
        return 'Dogecoin';
    }
    supportsBlockTarget() {
        return true;
    }
    /* amountType is set in constructor. Functions below override the default TNumber of AbstractUtxoCoin to bigint */
    /* postProcessPrebuild, isBitGoTaintedUnspent, verifyCustomChangeKeySignatures do not care whether they receive number or bigint */
    createTransactionFromHex(hex) {
        return super.createTransactionFromHex(hex);
    }
    async parseTransaction(params) {
        return (await super.parseTransaction({
            ...params,
            txPrebuild: parseTransactionPrebuild(params.txPrebuild),
        })) /* cast to satisfy superclass signature */;
    }
    async verifyTransaction(params) {
        return super.verifyTransaction({
            ...params,
            txPrebuild: parseTransactionPrebuild(params.txPrebuild),
        });
    }
    async signTransaction(params) {
        return super.signTransaction({
            ...params,
            txPrebuild: {
                ...params.txPrebuild,
                txInfo: params.txPrebuild.txInfo === undefined ? undefined : parseTransactionInfo(params.txPrebuild.txInfo),
            },
        });
    }
    async explainTransaction(params) {
        return super.explainTransaction({
            ...params,
            txInfo: params.txInfo ? parseTransactionInfo(params.txInfo) : undefined,
        });
    }
    async recoverFromWrongChain(params) {
        return super.recoverFromWrongChain(params);
    }
}
exports.Doge = Doge;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9nZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kb2dlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHdEQWM4QjtBQUU5Qiw4Q0FBa0Q7QUFNbEQsU0FBUyxhQUFhLENBQ3BCLFFBQWtEO0lBRWxELE9BQU8sUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQTZDLEVBQXlCLEVBQUU7UUFDM0YsSUFBSSxPQUFPLE9BQU8sQ0FBQyxLQUFLLEtBQUssUUFBUSxFQUFFO1lBQ3JDLE9BQU8sT0FBZ0MsQ0FBQztTQUN6QztRQUNELElBQUksYUFBYSxJQUFJLE9BQU8sRUFBRTtZQUM1QixPQUFPLEVBQUUsR0FBRyxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQztTQUMzRDtRQUNELElBQUksT0FBTyxPQUFPLENBQUMsS0FBSyxLQUFLLFFBQVEsRUFBRTtZQUNyQyxNQUFNLElBQUksS0FBSyxDQUFDLDRFQUE0RSxDQUFDLENBQUM7U0FDL0Y7UUFDRCxNQUFNLElBQUksS0FBSyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDckMsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBRUQsU0FBUyxvQkFBb0IsQ0FDM0IsTUFBc0Q7SUFFdEQsSUFBSSxNQUFNLENBQUMsUUFBUSxFQUFFO1FBQ25CLE9BQU8sRUFBRSxHQUFHLE1BQU0sRUFBRSxRQUFRLEVBQUUsYUFBYSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDO0tBQ2hFO0lBQ0QsT0FBTyxFQUFFLEdBQUcsTUFBTSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsQ0FBQztBQUM1QyxDQUFDO0FBRUQsU0FBUyx3QkFBd0IsQ0FDL0IsVUFBa0U7SUFFbEUsSUFBSSxVQUFVLGFBQVYsVUFBVSx1QkFBVixVQUFVLENBQUUsTUFBTSxFQUFFO1FBQ3RCLE9BQU8sRUFBRSxHQUFHLFVBQVUsRUFBRSxNQUFNLEVBQUUsb0JBQW9CLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7S0FDM0U7SUFDRCxPQUFPLFVBQXlDLENBQUM7QUFDbkQsQ0FBQztBQUVELE1BQWEsSUFBSyxTQUFRLGdDQUFnQjtJQUN4QyxZQUFZLEtBQWdCLEVBQUUsT0FBcUI7UUFDakQsS0FBSyxDQUFDLEtBQUssRUFBRSxPQUFPLElBQUksbUJBQVEsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVELE1BQU0sQ0FBQyxjQUFjLENBQUMsS0FBZ0I7UUFDcEMsT0FBTyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBRUQsUUFBUTtRQUNOLE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxTQUFTO1FBQ1AsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUVELFdBQVc7UUFDVCxPQUFPLFVBQVUsQ0FBQztJQUNwQixDQUFDO0lBRUQsbUJBQW1CO1FBQ2pCLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELGtIQUFrSDtJQUVsSCxtSUFBbUk7SUFFbkksd0JBQXdCLENBQTJDLEdBQVc7UUFDNUUsT0FBTyxLQUFLLENBQUMsd0JBQXdCLENBQVUsR0FBRyxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVELEtBQUssQ0FBQyxnQkFBZ0IsQ0FDcEIsTUFBd0M7UUFNeEMsT0FBTyxDQUFDLE1BQU0sS0FBSyxDQUFDLGdCQUFnQixDQUFDO1lBQ25DLEdBQUcsTUFBTTtZQUNULFVBQVUsRUFBRSx3QkFBd0IsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDO1NBQ3hELENBQUMsQ0FBK0IsQ0FBQywwQ0FBMEMsQ0FBQztJQUMvRSxDQUFDO0lBRUQsS0FBSyxDQUFDLGlCQUFpQixDQUNyQixNQUVpRjtRQUVqRixPQUFPLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQztZQUM3QixHQUFHLE1BQU07WUFDVCxVQUFVLEVBQUUsd0JBQXdCLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztTQUN4RCxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsS0FBSyxDQUFDLGVBQWUsQ0FDbkIsTUFBdUM7UUFFdkMsT0FBTyxLQUFLLENBQUMsZUFBZSxDQUFDO1lBQzNCLEdBQUcsTUFBTTtZQUNULFVBQVUsRUFBRTtnQkFDVixHQUFHLE1BQU0sQ0FBQyxVQUFVO2dCQUNwQixNQUFNLEVBQUUsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDO2FBQzVHO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELEtBQUssQ0FBQyxrQkFBa0IsQ0FDdEIsTUFBbUg7UUFFbkgsT0FBTyxLQUFLLENBQUMsa0JBQWtCLENBQUM7WUFDOUIsR0FBRyxNQUFNO1lBQ1QsTUFBTSxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxNQUE2QixDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVM7U0FDL0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELEtBQUssQ0FBQyxxQkFBcUIsQ0FDekIsTUFBb0M7UUFFcEMsT0FBTyxLQUFLLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDN0MsQ0FBQztDQUNGO0FBbkZELG9CQW1GQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFic3RyYWN0VXR4b0NvaW4sXG4gIFNpZ25UcmFuc2FjdGlvbk9wdGlvbnMsXG4gIEV4cGxhaW5UcmFuc2FjdGlvbk9wdGlvbnMsXG4gIFRyYW5zYWN0aW9uRXhwbGFuYXRpb24sXG4gIFV0eG9OZXR3b3JrLFxuICBQYXJzZVRyYW5zYWN0aW9uT3B0aW9ucyxcbiAgUGFyc2VkVHJhbnNhY3Rpb24sXG4gIFZlcmlmeVRyYW5zYWN0aW9uT3B0aW9ucyxcbiAgQ3Jvc3NDaGFpblJlY292ZXJ5U2lnbmVkLFxuICBDcm9zc0NoYWluUmVjb3ZlcnlVbnNpZ25lZCxcbiAgUmVjb3ZlckZyb21Xcm9uZ0NoYWluT3B0aW9ucyxcbiAgVHJhbnNhY3Rpb25JbmZvLFxuICBUcmFuc2FjdGlvblByZWJ1aWxkLFxufSBmcm9tICdAYml0Z28vYWJzdHJhY3QtdXR4byc7XG5pbXBvcnQgeyBCYXNlQ29pbiwgQml0R29CYXNlLCBIYWxmU2lnbmVkVXR4b1RyYW5zYWN0aW9uLCBTaWduZWRUcmFuc2FjdGlvbiB9IGZyb20gJ0BiaXRnby9zZGstY29yZSc7XG5pbXBvcnQgeyBiaXRnbywgbmV0d29ya3MgfSBmcm9tICdAYml0Z28vdXR4by1saWInO1xuXG50eXBlIFVuc3BlbnRKU09OID0gYml0Z28uVW5zcGVudDxudW1iZXI+ICYgeyB2YWx1ZVN0cmluZzogc3RyaW5nIH07XG50eXBlIFRyYW5zYWN0aW9uSW5mb0pTT04gPSBUcmFuc2FjdGlvbkluZm88bnVtYmVyPiAmIHsgdW5zcGVudHM6IFVuc3BlbnRKU09OW10gfTtcbnR5cGUgVHJhbnNhY3Rpb25QcmVidWlsZEpTT04gPSBUcmFuc2FjdGlvblByZWJ1aWxkPG51bWJlcj4gJiB7IHR4SW5mbzogVHJhbnNhY3Rpb25JbmZvSlNPTiB9O1xuXG5mdW5jdGlvbiBwYXJzZVVuc3BlbnRzPFROdW1iZXIgZXh0ZW5kcyBudW1iZXIgfCBiaWdpbnQ+KFxuICB1bnNwZW50czogVW5zcGVudEpTT05bXSB8IGJpdGdvLlVuc3BlbnQ8VE51bWJlcj5bXVxuKTogYml0Z28uVW5zcGVudDxiaWdpbnQ+W10ge1xuICByZXR1cm4gdW5zcGVudHMubWFwKCh1bnNwZW50OiBiaXRnby5VbnNwZW50PFROdW1iZXI+IHwgVW5zcGVudEpTT04pOiBiaXRnby5VbnNwZW50PGJpZ2ludD4gPT4ge1xuICAgIGlmICh0eXBlb2YgdW5zcGVudC52YWx1ZSA9PT0gJ2JpZ2ludCcpIHtcbiAgICAgIHJldHVybiB1bnNwZW50IGFzIGJpdGdvLlVuc3BlbnQ8YmlnaW50PjtcbiAgICB9XG4gICAgaWYgKCd2YWx1ZVN0cmluZycgaW4gdW5zcGVudCkge1xuICAgICAgcmV0dXJuIHsgLi4udW5zcGVudCwgdmFsdWU6IEJpZ0ludCh1bnNwZW50LnZhbHVlU3RyaW5nKSB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHVuc3BlbnQudmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlY2VpdmVkIFVuc3BlbnQ8bnVtYmVyPiB3aGVyZSBVbnNwZW50PGJpZ2ludD4gb3IgVW5zcGVudEpTT04gd2FzIGV4cGVjdGVkYCk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB1bnNwZW50Jyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRyYW5zYWN0aW9uSW5mbzxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50PihcbiAgdHhJbmZvOiBUcmFuc2FjdGlvbkluZm88VE51bWJlcj4gfCBUcmFuc2FjdGlvbkluZm9KU09OXG4pOiBUcmFuc2FjdGlvbkluZm88YmlnaW50PiB7XG4gIGlmICh0eEluZm8udW5zcGVudHMpIHtcbiAgICByZXR1cm4geyAuLi50eEluZm8sIHVuc3BlbnRzOiBwYXJzZVVuc3BlbnRzKHR4SW5mby51bnNwZW50cykgfTtcbiAgfVxuICByZXR1cm4geyAuLi50eEluZm8sIHVuc3BlbnRzOiB1bmRlZmluZWQgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUcmFuc2FjdGlvblByZWJ1aWxkPFROdW1iZXIgZXh0ZW5kcyBudW1iZXIgfCBiaWdpbnQ+KFxuICB0eFByZWJ1aWxkOiBUcmFuc2FjdGlvblByZWJ1aWxkPFROdW1iZXI+IHwgVHJhbnNhY3Rpb25QcmVidWlsZEpTT05cbik6IFRyYW5zYWN0aW9uUHJlYnVpbGQ8YmlnaW50PiB7XG4gIGlmICh0eFByZWJ1aWxkPy50eEluZm8pIHtcbiAgICByZXR1cm4geyAuLi50eFByZWJ1aWxkLCB0eEluZm86IHBhcnNlVHJhbnNhY3Rpb25JbmZvKHR4UHJlYnVpbGQudHhJbmZvKSB9O1xuICB9XG4gIHJldHVybiB0eFByZWJ1aWxkIGFzIFRyYW5zYWN0aW9uUHJlYnVpbGQ8YmlnaW50Pjtcbn1cblxuZXhwb3J0IGNsYXNzIERvZ2UgZXh0ZW5kcyBBYnN0cmFjdFV0eG9Db2luIHtcbiAgY29uc3RydWN0b3IoYml0Z286IEJpdEdvQmFzZSwgbmV0d29yaz86IFV0eG9OZXR3b3JrKSB7XG4gICAgc3VwZXIoYml0Z28sIG5ldHdvcmsgfHwgbmV0d29ya3MuZG9nZWNvaW4sICdiaWdpbnQnKTtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVJbnN0YW5jZShiaXRnbzogQml0R29CYXNlKTogQmFzZUNvaW4ge1xuICAgIHJldHVybiBuZXcgRG9nZShiaXRnbyk7XG4gIH1cblxuICBnZXRDaGFpbigpOiBzdHJpbmcge1xuICAgIHJldHVybiAnZG9nZSc7XG4gIH1cblxuICBnZXRGYW1pbHkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2RvZ2UnO1xuICB9XG5cbiAgZ2V0RnVsbE5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ0RvZ2Vjb2luJztcbiAgfVxuXG4gIHN1cHBvcnRzQmxvY2tUYXJnZXQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKiBhbW91bnRUeXBlIGlzIHNldCBpbiBjb25zdHJ1Y3Rvci4gRnVuY3Rpb25zIGJlbG93IG92ZXJyaWRlIHRoZSBkZWZhdWx0IFROdW1iZXIgb2YgQWJzdHJhY3RVdHhvQ29pbiB0byBiaWdpbnQgKi9cblxuICAvKiBwb3N0UHJvY2Vzc1ByZWJ1aWxkLCBpc0JpdEdvVGFpbnRlZFVuc3BlbnQsIHZlcmlmeUN1c3RvbUNoYW5nZUtleVNpZ25hdHVyZXMgZG8gbm90IGNhcmUgd2hldGhlciB0aGV5IHJlY2VpdmUgbnVtYmVyIG9yIGJpZ2ludCAqL1xuXG4gIGNyZWF0ZVRyYW5zYWN0aW9uRnJvbUhleDxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50ID0gYmlnaW50PihoZXg6IHN0cmluZyk6IGJpdGdvLlV0eG9UcmFuc2FjdGlvbjxUTnVtYmVyPiB7XG4gICAgcmV0dXJuIHN1cGVyLmNyZWF0ZVRyYW5zYWN0aW9uRnJvbUhleDxUTnVtYmVyPihoZXgpO1xuICB9XG5cbiAgYXN5bmMgcGFyc2VUcmFuc2FjdGlvbjxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50ID0gYmlnaW50PihcbiAgICBwYXJhbXM6IFBhcnNlVHJhbnNhY3Rpb25PcHRpb25zPFROdW1iZXI+XG4gICk6IC8qXG4gICAgdGhlIGFjdHVhbCByZXR1cm4gdHlwZSBpcyBQcm9taXNlPFBhcnNlZFRyYW5zYWN0aW9uPGJpZ2ludD4+LFxuICAgIGJ1dCB0aGUgc3VwZXJjbGFzcyBzaWduYXR1cmUgY3VycmVudGx5IHJlcXVpcmVzIFROdW1iZXJcbiAgICAgKi9cbiAgUHJvbWlzZTxQYXJzZWRUcmFuc2FjdGlvbjxUTnVtYmVyPj4ge1xuICAgIHJldHVybiAoYXdhaXQgc3VwZXIucGFyc2VUcmFuc2FjdGlvbih7XG4gICAgICAuLi5wYXJhbXMsXG4gICAgICB0eFByZWJ1aWxkOiBwYXJzZVRyYW5zYWN0aW9uUHJlYnVpbGQocGFyYW1zLnR4UHJlYnVpbGQpLFxuICAgIH0pKSBhcyBQYXJzZWRUcmFuc2FjdGlvbjxUTnVtYmVyPiAvKiBjYXN0IHRvIHNhdGlzZnkgc3VwZXJjbGFzcyBzaWduYXR1cmUgKi87XG4gIH1cblxuICBhc3luYyB2ZXJpZnlUcmFuc2FjdGlvbjxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50ID0gYmlnaW50PihcbiAgICBwYXJhbXM6XG4gICAgICB8IFZlcmlmeVRyYW5zYWN0aW9uT3B0aW9uczxUTnVtYmVyPlxuICAgICAgfCAoVmVyaWZ5VHJhbnNhY3Rpb25PcHRpb25zPFROdW1iZXI+ICYgeyB0eFByZWJ1aWxkOiBUcmFuc2FjdGlvblByZWJ1aWxkSlNPTiB9KVxuICApOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gc3VwZXIudmVyaWZ5VHJhbnNhY3Rpb24oe1xuICAgICAgLi4ucGFyYW1zLFxuICAgICAgdHhQcmVidWlsZDogcGFyc2VUcmFuc2FjdGlvblByZWJ1aWxkKHBhcmFtcy50eFByZWJ1aWxkKSxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHNpZ25UcmFuc2FjdGlvbjxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50ID0gYmlnaW50PihcbiAgICBwYXJhbXM6IFNpZ25UcmFuc2FjdGlvbk9wdGlvbnM8VE51bWJlcj5cbiAgKTogUHJvbWlzZTxTaWduZWRUcmFuc2FjdGlvbiB8IEhhbGZTaWduZWRVdHhvVHJhbnNhY3Rpb24+IHtcbiAgICByZXR1cm4gc3VwZXIuc2lnblRyYW5zYWN0aW9uKHtcbiAgICAgIC4uLnBhcmFtcyxcbiAgICAgIHR4UHJlYnVpbGQ6IHtcbiAgICAgICAgLi4ucGFyYW1zLnR4UHJlYnVpbGQsXG4gICAgICAgIHR4SW5mbzogcGFyYW1zLnR4UHJlYnVpbGQudHhJbmZvID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBwYXJzZVRyYW5zYWN0aW9uSW5mbyhwYXJhbXMudHhQcmVidWlsZC50eEluZm8pLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGV4cGxhaW5UcmFuc2FjdGlvbjxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50ID0gYmlnaW50PihcbiAgICBwYXJhbXM6IEV4cGxhaW5UcmFuc2FjdGlvbk9wdGlvbnM8VE51bWJlcj4gfCAoRXhwbGFpblRyYW5zYWN0aW9uT3B0aW9uczxUTnVtYmVyPiAmIHsgdHhJbmZvOiBUcmFuc2FjdGlvbkluZm9KU09OIH0pXG4gICk6IFByb21pc2U8VHJhbnNhY3Rpb25FeHBsYW5hdGlvbj4ge1xuICAgIHJldHVybiBzdXBlci5leHBsYWluVHJhbnNhY3Rpb24oe1xuICAgICAgLi4ucGFyYW1zLFxuICAgICAgdHhJbmZvOiBwYXJhbXMudHhJbmZvID8gcGFyc2VUcmFuc2FjdGlvbkluZm8ocGFyYW1zLnR4SW5mbyBhcyBUcmFuc2FjdGlvbkluZm9KU09OKSA6IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHJlY292ZXJGcm9tV3JvbmdDaGFpbjxUTnVtYmVyIGV4dGVuZHMgbnVtYmVyIHwgYmlnaW50ID0gYmlnaW50PihcbiAgICBwYXJhbXM6IFJlY292ZXJGcm9tV3JvbmdDaGFpbk9wdGlvbnNcbiAgKTogUHJvbWlzZTxDcm9zc0NoYWluUmVjb3ZlcnlTaWduZWQ8VE51bWJlcj4gfCBDcm9zc0NoYWluUmVjb3ZlcnlVbnNpZ25lZDxUTnVtYmVyPj4ge1xuICAgIHJldHVybiBzdXBlci5yZWNvdmVyRnJvbVdyb25nQ2hhaW4ocGFyYW1zKTtcbiAgfVxufVxuIl19