"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getExecutionStatusType = exports.getProgrammableTransaction = exports.getTransactionKindName = exports.getTransactionKind = exports.getConsensusCommitPrologueTransaction = exports.getChangeEpochTransaction = exports.getTransactionGasBudget = exports.getTransactionGasPrice = exports.getTransactionGasObject = exports.getGasData = exports.getTransactionSender = exports.getTransactionSignature = exports.getTransactionDigest = exports.getTransaction = exports.DryRunTransactionBlockResponse = exports.PaginatedTransactionResponse = exports.SuiTransactionBlockResponseOptions = exports.SuiTransactionBlockResponse = exports.BalanceChange = exports.SuiObjectChange = exports.SuiObjectChangeCreated = exports.SuiObjectChangeWrapped = exports.SuiObjectChangeDeleted = exports.SuiObjectChangeMutated = exports.SuiObjectChangeTransferred = exports.SuiObjectChangePublished = exports.SuiTransactionBlock = exports.AuthorityName = exports.DevInspectResults = exports.TransactionEvents = exports.TransactionEffects = exports.TransactionEffectsModifiedAtVersions = exports.OwnedObjectRef = exports.ExecutionStatus = exports.ExecutionStatusType = exports.GasCostSummary = exports.AuthorityQuorumSignInfo = exports.GenericAuthoritySignature = exports.AuthoritySignature = exports.SuiTransactionBlockData = exports.SuiTransactionBlockKind = exports.ProgrammableTransaction = exports.SuiCallArg = exports.SuiTransaction = exports.MoveCallSuiTransaction = exports.SuiArgument = exports.Genesis = exports.SuiConsensusCommitPrologue = exports.SuiChangeEpoch = exports.EpochId = void 0;
exports.getPublishedObjectChanges = exports.getObjectChanges = exports.getNewlyCreatedCoinRefsAfterSplit = exports.getTimestampFromTransactionResponse = exports.getCreatedObjects = exports.getEvents = exports.getTransactionEffects = exports.getTotalGasUsedUpperBound = exports.getTotalGasUsed = exports.getExecutionStatusGasSummary = exports.getExecutionStatusError = exports.getExecutionStatus = void 0;
const superstruct_1 = require("superstruct");
const common_1 = require("./common");
const events_1 = require("./events");
const objects_1 = require("./objects");
exports.EpochId = (0, superstruct_1.string)();
exports.SuiChangeEpoch = (0, superstruct_1.object)({
    epoch: exports.EpochId,
    storage_charge: (0, superstruct_1.number)(),
    computation_charge: (0, superstruct_1.number)(),
    storage_rebate: (0, superstruct_1.number)(),
    epoch_start_timestamp_ms: (0, superstruct_1.optional)((0, superstruct_1.number)()),
});
exports.SuiConsensusCommitPrologue = (0, superstruct_1.object)({
    epoch: (0, superstruct_1.number)(),
    round: (0, superstruct_1.number)(),
    commit_timestamp_ms: (0, superstruct_1.number)(),
});
exports.Genesis = (0, superstruct_1.object)({
    objects: (0, superstruct_1.array)(common_1.ObjectId),
});
exports.SuiArgument = (0, superstruct_1.union)([
    (0, superstruct_1.literal)('GasCoin'),
    (0, superstruct_1.object)({ Input: (0, superstruct_1.number)() }),
    (0, superstruct_1.object)({ Result: (0, superstruct_1.number)() }),
    (0, superstruct_1.object)({ NestedResult: (0, superstruct_1.tuple)([(0, superstruct_1.number)(), (0, superstruct_1.number)()]) }),
]);
exports.MoveCallSuiTransaction = (0, superstruct_1.object)({
    arguments: (0, superstruct_1.optional)((0, superstruct_1.array)(exports.SuiArgument)),
    type_arguments: (0, superstruct_1.optional)((0, superstruct_1.array)((0, superstruct_1.string)())),
    package: common_1.ObjectId,
    module: (0, superstruct_1.string)(),
    function: (0, superstruct_1.string)(),
});
exports.SuiTransaction = (0, superstruct_1.union)([
    (0, superstruct_1.object)({ MoveCall: exports.MoveCallSuiTransaction }),
    (0, superstruct_1.object)({ TransferObjects: (0, superstruct_1.tuple)([(0, superstruct_1.array)(exports.SuiArgument), exports.SuiArgument]) }),
    (0, superstruct_1.object)({ SplitCoins: (0, superstruct_1.tuple)([exports.SuiArgument, (0, superstruct_1.array)(exports.SuiArgument)]) }),
    (0, superstruct_1.object)({ MergeCoins: (0, superstruct_1.tuple)([exports.SuiArgument, (0, superstruct_1.array)(exports.SuiArgument)]) }),
    (0, superstruct_1.object)({ Publish: objects_1.SuiMovePackage }),
    (0, superstruct_1.object)({ MakeMoveVec: (0, superstruct_1.tuple)([(0, superstruct_1.nullable)((0, superstruct_1.string)()), (0, superstruct_1.array)(exports.SuiArgument)]) }),
]);
exports.SuiCallArg = (0, superstruct_1.union)([
    (0, superstruct_1.object)({
        type: (0, superstruct_1.literal)('pure'),
        valueType: (0, superstruct_1.optional)((0, superstruct_1.string)()),
        value: common_1.SuiJsonValue,
    }),
    (0, superstruct_1.object)({
        type: (0, superstruct_1.literal)('object'),
        objectType: (0, superstruct_1.literal)('immOrOwnedObject'),
        objectId: common_1.ObjectId,
        version: common_1.SequenceNumber,
        digest: objects_1.ObjectDigest,
    }),
    (0, superstruct_1.object)({
        type: (0, superstruct_1.literal)('object'),
        objectType: (0, superstruct_1.literal)('sharedObject'),
        objectId: common_1.ObjectId,
        initialSharedVersion: common_1.SequenceNumber,
        mutable: (0, superstruct_1.boolean)(),
    }),
]);
exports.ProgrammableTransaction = (0, superstruct_1.object)({
    transactions: (0, superstruct_1.array)(exports.SuiTransaction),
    inputs: (0, superstruct_1.array)(exports.SuiCallArg),
});
exports.SuiTransactionBlockKind = (0, superstruct_1.union)([
    (0, superstruct_1.assign)(exports.SuiChangeEpoch, (0, superstruct_1.object)({ kind: (0, superstruct_1.literal)('ChangeEpoch') })),
    (0, superstruct_1.assign)(exports.SuiConsensusCommitPrologue, (0, superstruct_1.object)({
        kind: (0, superstruct_1.literal)('ConsensusCommitPrologue'),
    })),
    (0, superstruct_1.assign)(exports.Genesis, (0, superstruct_1.object)({ kind: (0, superstruct_1.literal)('Genesis') })),
    (0, superstruct_1.assign)(exports.ProgrammableTransaction, (0, superstruct_1.object)({ kind: (0, superstruct_1.literal)('ProgrammableTransaction') })),
]);
exports.SuiTransactionBlockData = (0, superstruct_1.object)({
    // Eventually this will become union(literal('v1'), literal('v2'), ...)
    messageVersion: (0, superstruct_1.literal)('v1'),
    transaction: exports.SuiTransactionBlockKind,
    sender: common_1.SuiAddress,
    gasData: objects_1.SuiGasData,
});
exports.AuthoritySignature = (0, superstruct_1.string)();
exports.GenericAuthoritySignature = (0, superstruct_1.union)([exports.AuthoritySignature, (0, superstruct_1.array)(exports.AuthoritySignature)]);
exports.AuthorityQuorumSignInfo = (0, superstruct_1.object)({
    epoch: exports.EpochId,
    signature: exports.GenericAuthoritySignature,
    signers_map: (0, superstruct_1.array)((0, superstruct_1.number)()),
});
exports.GasCostSummary = (0, superstruct_1.object)({
    computationCost: (0, superstruct_1.string)(),
    storageCost: (0, superstruct_1.string)(),
    storageRebate: (0, superstruct_1.string)(),
    nonRefundableStorageFee: (0, superstruct_1.string)(),
});
exports.ExecutionStatusType = (0, superstruct_1.union)([(0, superstruct_1.literal)('success'), (0, superstruct_1.literal)('failure')]);
exports.ExecutionStatus = (0, superstruct_1.object)({
    status: exports.ExecutionStatusType,
    error: (0, superstruct_1.optional)((0, superstruct_1.string)()),
});
exports.OwnedObjectRef = (0, superstruct_1.object)({
    owner: common_1.ObjectOwner,
    reference: objects_1.SuiObjectRef,
});
exports.TransactionEffectsModifiedAtVersions = (0, superstruct_1.object)({
    objectId: common_1.ObjectId,
    sequenceNumber: common_1.SequenceNumber,
});
exports.TransactionEffects = (0, superstruct_1.object)({
    // Eventually this will become union(literal('v1'), literal('v2'), ...)
    messageVersion: (0, superstruct_1.literal)('v1'),
    /** The status of the execution */
    status: exports.ExecutionStatus,
    /** The epoch when this transaction was executed */
    executedEpoch: exports.EpochId,
    /** The version that every modified (mutated or deleted) object had before it was modified by this transaction. **/
    modifiedAtVersions: (0, superstruct_1.optional)((0, superstruct_1.array)(exports.TransactionEffectsModifiedAtVersions)),
    gasUsed: exports.GasCostSummary,
    /** The object references of the shared objects used in this transaction. Empty if no shared objects were used. */
    sharedObjects: (0, superstruct_1.optional)((0, superstruct_1.array)(objects_1.SuiObjectRef)),
    /** The transaction digest */
    transactionDigest: common_1.TransactionDigest,
    /** ObjectRef and owner of new objects created */
    created: (0, superstruct_1.optional)((0, superstruct_1.array)(exports.OwnedObjectRef)),
    /** ObjectRef and owner of mutated objects, including gas object */
    mutated: (0, superstruct_1.optional)((0, superstruct_1.array)(exports.OwnedObjectRef)),
    /**
     * ObjectRef and owner of objects that are unwrapped in this transaction.
     * Unwrapped objects are objects that were wrapped into other objects in the past,
     * and just got extracted out.
     */
    unwrapped: (0, superstruct_1.optional)((0, superstruct_1.array)(exports.OwnedObjectRef)),
    /** Object Refs of objects now deleted (the old refs) */
    deleted: (0, superstruct_1.optional)((0, superstruct_1.array)(objects_1.SuiObjectRef)),
    /** Object Refs of objects now deleted (the old refs) */
    unwrapped_then_deleted: (0, superstruct_1.optional)((0, superstruct_1.array)(objects_1.SuiObjectRef)),
    /** Object refs of objects now wrapped in other objects */
    wrapped: (0, superstruct_1.optional)((0, superstruct_1.array)(objects_1.SuiObjectRef)),
    /**
     * The updated gas object reference. Have a dedicated field for convenient access.
     * It's also included in mutated.
     */
    gasObject: exports.OwnedObjectRef,
    /** The events emitted during execution. Note that only successful transactions emit events */
    eventsDigest: (0, superstruct_1.optional)(common_1.TransactionEventDigest),
    /** The set of transaction digests this transaction depends on */
    dependencies: (0, superstruct_1.optional)((0, superstruct_1.array)(common_1.TransactionDigest)),
});
exports.TransactionEvents = (0, superstruct_1.array)(events_1.SuiEvent);
const ReturnValueType = (0, superstruct_1.tuple)([(0, superstruct_1.array)((0, superstruct_1.number)()), (0, superstruct_1.string)()]);
const MutableReferenceOutputType = (0, superstruct_1.tuple)([exports.SuiArgument, (0, superstruct_1.array)((0, superstruct_1.number)()), (0, superstruct_1.string)()]);
const ExecutionResultType = (0, superstruct_1.object)({
    mutableReferenceOutputs: (0, superstruct_1.optional)((0, superstruct_1.array)(MutableReferenceOutputType)),
    returnValues: (0, superstruct_1.optional)((0, superstruct_1.array)(ReturnValueType)),
});
exports.DevInspectResults = (0, superstruct_1.object)({
    effects: exports.TransactionEffects,
    events: exports.TransactionEvents,
    results: (0, superstruct_1.optional)((0, superstruct_1.array)(ExecutionResultType)),
    error: (0, superstruct_1.optional)((0, superstruct_1.string)()),
});
exports.AuthorityName = (0, superstruct_1.string)();
exports.SuiTransactionBlock = (0, superstruct_1.object)({
    data: exports.SuiTransactionBlockData,
    txSignatures: (0, superstruct_1.array)((0, superstruct_1.string)()),
});
exports.SuiObjectChangePublished = (0, superstruct_1.object)({
    type: (0, superstruct_1.literal)('published'),
    packageId: common_1.ObjectId,
    version: common_1.SequenceNumber,
    digest: objects_1.ObjectDigest,
    modules: (0, superstruct_1.array)((0, superstruct_1.string)()),
});
exports.SuiObjectChangeTransferred = (0, superstruct_1.object)({
    type: (0, superstruct_1.literal)('transferred'),
    sender: common_1.SuiAddress,
    recipient: common_1.ObjectOwner,
    objectType: (0, superstruct_1.string)(),
    objectId: common_1.ObjectId,
    version: common_1.SequenceNumber,
    digest: objects_1.ObjectDigest,
});
exports.SuiObjectChangeMutated = (0, superstruct_1.object)({
    type: (0, superstruct_1.literal)('mutated'),
    sender: common_1.SuiAddress,
    owner: common_1.ObjectOwner,
    objectType: (0, superstruct_1.string)(),
    objectId: common_1.ObjectId,
    version: common_1.SequenceNumber,
    previousVersion: common_1.SequenceNumber,
    digest: objects_1.ObjectDigest,
});
exports.SuiObjectChangeDeleted = (0, superstruct_1.object)({
    type: (0, superstruct_1.literal)('deleted'),
    sender: common_1.SuiAddress,
    objectType: (0, superstruct_1.string)(),
    objectId: common_1.ObjectId,
    version: common_1.SequenceNumber,
});
exports.SuiObjectChangeWrapped = (0, superstruct_1.object)({
    type: (0, superstruct_1.literal)('wrapped'),
    sender: common_1.SuiAddress,
    objectType: (0, superstruct_1.string)(),
    objectId: common_1.ObjectId,
    version: common_1.SequenceNumber,
});
exports.SuiObjectChangeCreated = (0, superstruct_1.object)({
    type: (0, superstruct_1.literal)('created'),
    sender: common_1.SuiAddress,
    owner: common_1.ObjectOwner,
    objectType: (0, superstruct_1.string)(),
    objectId: common_1.ObjectId,
    version: common_1.SequenceNumber,
    digest: objects_1.ObjectDigest,
});
exports.SuiObjectChange = (0, superstruct_1.union)([
    exports.SuiObjectChangePublished,
    exports.SuiObjectChangeTransferred,
    exports.SuiObjectChangeMutated,
    exports.SuiObjectChangeDeleted,
    exports.SuiObjectChangeWrapped,
    exports.SuiObjectChangeCreated,
]);
exports.BalanceChange = (0, superstruct_1.object)({
    owner: common_1.ObjectOwner,
    coinType: (0, superstruct_1.string)(),
    /* Coin balance change(positive means receive, negative means send) */
    amount: (0, superstruct_1.string)(),
});
exports.SuiTransactionBlockResponse = (0, superstruct_1.object)({
    digest: common_1.TransactionDigest,
    transaction: (0, superstruct_1.optional)(exports.SuiTransactionBlock),
    effects: (0, superstruct_1.optional)(exports.TransactionEffects),
    events: (0, superstruct_1.optional)(exports.TransactionEvents),
    timestampMs: (0, superstruct_1.optional)((0, superstruct_1.number)()),
    checkpoint: (0, superstruct_1.optional)((0, superstruct_1.number)()),
    confirmedLocalExecution: (0, superstruct_1.optional)((0, superstruct_1.boolean)()),
    objectChanges: (0, superstruct_1.optional)((0, superstruct_1.array)(exports.SuiObjectChange)),
    balanceChanges: (0, superstruct_1.optional)((0, superstruct_1.array)(exports.BalanceChange)),
    /* Errors that occurred in fetching/serializing the transaction. */
    errors: (0, superstruct_1.optional)((0, superstruct_1.array)((0, superstruct_1.string)())),
});
exports.SuiTransactionBlockResponseOptions = (0, superstruct_1.object)({
    /* Whether to show transaction input data. Default to be false. */
    showInput: (0, superstruct_1.optional)((0, superstruct_1.boolean)()),
    /* Whether to show transaction effects. Default to be false. */
    showEffects: (0, superstruct_1.optional)((0, superstruct_1.boolean)()),
    /* Whether to show transaction events. Default to be false. */
    showEvents: (0, superstruct_1.optional)((0, superstruct_1.boolean)()),
    /* Whether to show object changes. Default to be false. */
    showObjectChanges: (0, superstruct_1.optional)((0, superstruct_1.boolean)()),
    /* Whether to show coin balance changes. Default to be false. */
    showBalanceChanges: (0, superstruct_1.optional)((0, superstruct_1.boolean)()),
});
exports.PaginatedTransactionResponse = (0, superstruct_1.object)({
    data: (0, superstruct_1.array)(exports.SuiTransactionBlockResponse),
    nextCursor: (0, superstruct_1.union)([common_1.TransactionDigest, (0, superstruct_1.literal)(null)]),
    hasNextPage: (0, superstruct_1.boolean)(),
});
exports.DryRunTransactionBlockResponse = (0, superstruct_1.object)({
    effects: exports.TransactionEffects,
    events: exports.TransactionEvents,
    objectChanges: (0, superstruct_1.array)(exports.SuiObjectChange),
    balanceChanges: (0, superstruct_1.array)(exports.BalanceChange),
});
/* -------------------------------------------------------------------------- */
/*                              Helper functions                              */
/* -------------------------------------------------------------------------- */
function getTransaction(tx) {
    return tx.transaction;
}
exports.getTransaction = getTransaction;
function getTransactionDigest(tx) {
    return tx.digest;
}
exports.getTransactionDigest = getTransactionDigest;
function getTransactionSignature(tx) {
    var _a;
    return (_a = tx.transaction) === null || _a === void 0 ? void 0 : _a.txSignatures;
}
exports.getTransactionSignature = getTransactionSignature;
/* ----------------------------- TransactionData ---------------------------- */
function getTransactionSender(tx) {
    var _a;
    return (_a = tx.transaction) === null || _a === void 0 ? void 0 : _a.data.sender;
}
exports.getTransactionSender = getTransactionSender;
function getGasData(tx) {
    var _a;
    return (_a = tx.transaction) === null || _a === void 0 ? void 0 : _a.data.gasData;
}
exports.getGasData = getGasData;
function getTransactionGasObject(tx) {
    var _a;
    return (_a = getGasData(tx)) === null || _a === void 0 ? void 0 : _a.payment;
}
exports.getTransactionGasObject = getTransactionGasObject;
function getTransactionGasPrice(tx) {
    var _a;
    return (_a = getGasData(tx)) === null || _a === void 0 ? void 0 : _a.price;
}
exports.getTransactionGasPrice = getTransactionGasPrice;
function getTransactionGasBudget(tx) {
    var _a;
    return (_a = getGasData(tx)) === null || _a === void 0 ? void 0 : _a.budget;
}
exports.getTransactionGasBudget = getTransactionGasBudget;
function getChangeEpochTransaction(data) {
    return data.kind === 'ChangeEpoch' ? data : undefined;
}
exports.getChangeEpochTransaction = getChangeEpochTransaction;
function getConsensusCommitPrologueTransaction(data) {
    return data.kind === 'ConsensusCommitPrologue' ? data : undefined;
}
exports.getConsensusCommitPrologueTransaction = getConsensusCommitPrologueTransaction;
function getTransactionKind(data) {
    var _a;
    return (_a = data.transaction) === null || _a === void 0 ? void 0 : _a.data.transaction;
}
exports.getTransactionKind = getTransactionKind;
function getTransactionKindName(data) {
    return data.kind;
}
exports.getTransactionKindName = getTransactionKindName;
function getProgrammableTransaction(data) {
    return data.kind === 'ProgrammableTransaction' ? data : undefined;
}
exports.getProgrammableTransaction = getProgrammableTransaction;
/* ----------------------------- ExecutionStatus ---------------------------- */
function getExecutionStatusType(data) {
    var _a;
    return (_a = getExecutionStatus(data)) === null || _a === void 0 ? void 0 : _a.status;
}
exports.getExecutionStatusType = getExecutionStatusType;
function getExecutionStatus(data) {
    var _a;
    return (_a = getTransactionEffects(data)) === null || _a === void 0 ? void 0 : _a.status;
}
exports.getExecutionStatus = getExecutionStatus;
function getExecutionStatusError(data) {
    var _a;
    return (_a = getExecutionStatus(data)) === null || _a === void 0 ? void 0 : _a.error;
}
exports.getExecutionStatusError = getExecutionStatusError;
function getExecutionStatusGasSummary(data) {
    var _a;
    if ((0, superstruct_1.is)(data, exports.TransactionEffects)) {
        return data.gasUsed;
    }
    return (_a = getTransactionEffects(data)) === null || _a === void 0 ? void 0 : _a.gasUsed;
}
exports.getExecutionStatusGasSummary = getExecutionStatusGasSummary;
function getTotalGasUsed(data) {
    const gasSummary = getExecutionStatusGasSummary(data);
    return gasSummary
        ? BigInt(gasSummary.computationCost) + BigInt(gasSummary.storageCost) - BigInt(gasSummary.storageRebate)
        : undefined;
}
exports.getTotalGasUsed = getTotalGasUsed;
function getTotalGasUsedUpperBound(data) {
    const gasSummary = getExecutionStatusGasSummary(data);
    return gasSummary ? BigInt(gasSummary.computationCost) + BigInt(gasSummary.storageCost) : undefined;
}
exports.getTotalGasUsedUpperBound = getTotalGasUsedUpperBound;
function getTransactionEffects(data) {
    return data.effects;
}
exports.getTransactionEffects = getTransactionEffects;
/* ---------------------------- Transaction Effects --------------------------- */
function getEvents(data) {
    return data.events;
}
exports.getEvents = getEvents;
function getCreatedObjects(data) {
    var _a;
    return (_a = getTransactionEffects(data)) === null || _a === void 0 ? void 0 : _a.created;
}
exports.getCreatedObjects = getCreatedObjects;
/* --------------------------- TransactionResponse -------------------------- */
function getTimestampFromTransactionResponse(data) {
    var _a;
    return (_a = data.timestampMs) !== null && _a !== void 0 ? _a : undefined;
}
exports.getTimestampFromTransactionResponse = getTimestampFromTransactionResponse;
/**
 * Get the newly created coin refs after a split.
 */
function getNewlyCreatedCoinRefsAfterSplit(data) {
    var _a, _b;
    return (_b = (_a = getTransactionEffects(data)) === null || _a === void 0 ? void 0 : _a.created) === null || _b === void 0 ? void 0 : _b.map((c) => c.reference);
}
exports.getNewlyCreatedCoinRefsAfterSplit = getNewlyCreatedCoinRefsAfterSplit;
function getObjectChanges(data) {
    return data.objectChanges;
}
exports.getObjectChanges = getObjectChanges;
function getPublishedObjectChanges(data) {
    var _a, _b;
    return (_b = (_a = data.objectChanges) === null || _a === void 0 ? void 0 : _a.filter((a) => (0, superstruct_1.is)(a, exports.SuiObjectChangePublished))) !== null && _b !== void 0 ? _b : [];
}
exports.getPublishedObjectChanges = getPublishedObjectChanges;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNhY3Rpb25zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9teXN0ZW5sYWIvdHlwZXMvdHJhbnNhY3Rpb25zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSw2Q0FjcUI7QUFFckIscUNBUWtCO0FBQ2xCLHFDQUFvQztBQUNwQyx1Q0FBbUY7QUFFdEUsUUFBQSxPQUFPLEdBQUcsSUFBQSxvQkFBTSxHQUFFLENBQUM7QUFFbkIsUUFBQSxjQUFjLEdBQUcsSUFBQSxvQkFBTSxFQUFDO0lBQ25DLEtBQUssRUFBRSxlQUFPO0lBQ2QsY0FBYyxFQUFFLElBQUEsb0JBQU0sR0FBRTtJQUN4QixrQkFBa0IsRUFBRSxJQUFBLG9CQUFNLEdBQUU7SUFDNUIsY0FBYyxFQUFFLElBQUEsb0JBQU0sR0FBRTtJQUN4Qix3QkFBd0IsRUFBRSxJQUFBLHNCQUFRLEVBQUMsSUFBQSxvQkFBTSxHQUFFLENBQUM7Q0FDN0MsQ0FBQyxDQUFDO0FBR1UsUUFBQSwwQkFBMEIsR0FBRyxJQUFBLG9CQUFNLEVBQUM7SUFDL0MsS0FBSyxFQUFFLElBQUEsb0JBQU0sR0FBRTtJQUNmLEtBQUssRUFBRSxJQUFBLG9CQUFNLEdBQUU7SUFDZixtQkFBbUIsRUFBRSxJQUFBLG9CQUFNLEdBQUU7Q0FDOUIsQ0FBQyxDQUFDO0FBR1UsUUFBQSxPQUFPLEdBQUcsSUFBQSxvQkFBTSxFQUFDO0lBQzVCLE9BQU8sRUFBRSxJQUFBLG1CQUFLLEVBQUMsaUJBQVEsQ0FBQztDQUN6QixDQUFDLENBQUM7QUFHVSxRQUFBLFdBQVcsR0FBRyxJQUFBLG1CQUFLLEVBQUM7SUFDL0IsSUFBQSxxQkFBTyxFQUFDLFNBQVMsQ0FBQztJQUNsQixJQUFBLG9CQUFNLEVBQUMsRUFBRSxLQUFLLEVBQUUsSUFBQSxvQkFBTSxHQUFFLEVBQUUsQ0FBQztJQUMzQixJQUFBLG9CQUFNLEVBQUMsRUFBRSxNQUFNLEVBQUUsSUFBQSxvQkFBTSxHQUFFLEVB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QUMsSUFBaUM7SUFDekQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0FBQ3JCLENBQUM7QUFGRCw4QkFFQztBQUVELFNBQWdCLGlCQUFpQixDQUFDLElBQWlDOztJQUNqRSxPQUFPLE1BQUEscUJBQXFCLENBQUMsSUFBSSxDQUFDLDBDQUFFLE9BQU8sQ0FBQztBQUM5QyxDQUFDO0FBRkQsOENBRUM7QUFFRCxnRkFBZ0Y7QUFFaEYsU0FBZ0IsbUNBQW1DLENBQUMsSUFBaUM7O0lBQ25GLE9BQU8sTUFBQSxJQUFJLENBQUMsV0FBVyxtQ0FBSSxTQUFTLENBQUM7QUFDdkMsQ0FBQztBQUZELGtGQUVDO0FBRUQ7O0dBRUc7QUFDSCxTQUFnQixpQ0FBaUMsQ0FBQyxJQUFpQzs7SUFDakYsT0FBTyxNQUFBLE1BQUEscUJBQXFCLENBQUMsSUFBSSxDQUFDLDBDQUFFLE9BQU8sMENBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDdkUsQ0FBQztBQUZELDhFQUVDO0FBRUQsU0FBZ0IsZ0JBQWdCLENBQUMsSUFBaUM7SUFDaEUsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDO0FBQzVCLENBQUM7QUFGRCw0Q0FFQztBQUVELFNBQWdCLHlCQUF5QixDQUFDLElBQWlDOztJQUN6RSxPQUFPLE1BQUMsTUFBQSxJQUFJLENBQUMsYUFBYSwwQ0FBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUEsZ0JBQUUsRUFBQyxDQUFDLEVBQUUsZ0NBQXdCLENBQUMsQ0FBZ0MsbUNBQUksRUFBRSxDQUFDO0FBQ2xILENBQUM7QUFGRCw4REFFQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGlzLFxuICBhcnJheSxcbiAgSW5mZXIsXG4gIGxpdGVyYWwsXG4gIG51bWJlcixcbiAgb2JqZWN0LFxuICBvcHRpb25hbCxcbiAgc3RyaW5nLFxuICB1bmlvbixcbiAgYm9vbGVhbixcbiAgdHVwbGUsXG4gIGFzc2lnbixcbiAgbnVsbGFibGUsXG59IGZyb20gJ3N1cGVyc3RydWN0JztcblxuaW1wb3J0IHtcbiAgT2JqZWN0SWQsXG4gIE9iamVjdE93bmVyLFxuICBTZXF1ZW5jZU51bWJlcixcbiAgU3VpQWRkcmVzcyxcbiAgU3VpSnNvblZhbHVlLFxuICBUcmFuc2FjdGlvbkRpZ2VzdCxcbiAgVHJhbnNhY3Rpb25FdmVudERpZ2VzdCxcbn0gZnJvbSAnLi9jb21tb24nO1xuaW1wb3J0IHsgU3VpRXZlbnQgfSBmcm9tICcuL2V2ZW50cyc7XG5pbXBvcnQgeyBPYmplY3REaWdlc3QsIFN1aUdhc0RhdGEsIFN1aU1vdmVQYWNrYWdlLCBTdWlPYmplY3RSZWYgfSBmcm9tICcuL29iamVjdHMnO1xuXG5leHBvcnQgY29uc3QgRXBvY2hJZCA9IHN0cmluZygpO1xuXG5leHBvcnQgY29uc3QgU3VpQ2hhbmdlRXBvY2ggPSBvYmplY3Qoe1xuICBlcG9jaDogRXBvY2hJZCxcbiAgc3RvcmFnZV9jaGFyZ2U6IG51bWJlcigpLFxuICBjb21wdXRhdGlvbl9jaGFyZ2U6IG51bWJlcigpLFxuICBzdG9yYWdlX3JlYmF0ZTogbnVtYmVyKCksXG4gIGVwb2NoX3N0YXJ0X3RpbWVzdGFtcF9tczogb3B0aW9uYWwobnVtYmVyKCkpLFxufSk7XG5leHBvcnQgdHlwZSBTdWlDaGFuZ2VFcG9jaCA9IEluZmVyPHR5cGVvZiBTdWlDaGFuZ2VFcG9jaD47XG5cbmV4cG9ydCBjb25zdCBTdWlDb25zZW5zdXNDb21taXRQcm9sb2d1ZSA9IG9iamVjdCh7XG4gIGVwb2NoOiBudW1iZXIoKSxcbiAgcm91bmQ6IG51bWJlcigpLFxuICBjb21taXRfdGltZXN0YW1wX21zOiBudW1iZXIoKSxcbn0pO1xuZXhwb3J0IHR5cGUgU3VpQ29uc2Vuc3VzQ29tbWl0UHJvbG9ndWUgPSBJbmZlcjx0eXBlb2YgU3VpQ29uc2Vuc3VzQ29tbWl0UHJvbG9ndWU+O1xuXG5leHBvcnQgY29uc3QgR2VuZXNpcyA9IG9iamVjdCh7XG4gIG9iamVjdHM6IGFycmF5KE9iamVjdElkKSxcbn0pO1xuZXhwb3J0IHR5cGUgR2VuZXNpcyA9IEluZmVyPHR5cGVvZiBHZW5lc2lzPjtcblxuZXhwb3J0IGNvbnN0IFN1aUFyZ3VtZW50ID0gdW5pb24oW1xuICBsaXRlcmFsKCdHYXNDb2luJyksXG4gIG9iamVjdCh7IElucHV0OiBudW1iZXIoKSB9KSxcbiAgb2JqZWN0KHsgUmVzdWx0OiBudW1iZXIoKSB9KSxcbiAgb2JqZWN0KHsgTmVzdGVkUmVzdWx0OiB0dXBsZShbbnVtYmVyKCksIG51bWJlcigpXSkgfSksXG5dKTtcbmV4cG9ydCB0eXBlIFN1aUFyZ3VtZW50ID0gSW5mZXI8dHlwZW9mIFN1aUFyZ3VtZW50PjtcblxuZXhwb3J0IGNvbnN0IE1vdmVDYWxsU3VpVHJhbnNhY3Rpb24gPSBvYmplY3Qoe1xuICBhcmd1bWVudHM6IG9wdGlvbmFsKGFycmF5KFN1aUFyZ3VtZW50KSksXG4gIHR5cGVfYXJndW1lbnRzOiBvcHRpb25hbChhcnJheShzdHJpbmcoKSkpLFxuICBwYWNrYWdlOiBPYmplY3RJZCxcbiAgbW9kdWxlOiBzdHJpbmcoKSxcbiAgZnVuY3Rpb246IHN0cmluZygpLFxufSk7XG5leHBvcnQgdHlwZSBNb3ZlQ2FsbFN1aVRyYW5zYWN0aW9uID0gSW5mZXI8dHlwZW9mIE1vdmVDYWxsU3VpVHJhbnNhY3Rpb24+O1xuXG5leHBvcnQgY29uc3QgU3VpVHJhbnNhY3Rpb24gPSB1bmlvbihbXG4gIG9iamVjdCh7IE1vdmVDYWxsOiBNb3ZlQ2FsbFN1aVRyYW5zYWN0aW9uIH0pLFxuICBvYmplY3QoeyBUcmFuc2Zlck9iamVjdHM6IHR1cGxlKFthcnJheShTdWlBcmd1bWVudCksIFN1aUFyZ3VtZW50XSkgfSksXG4gIG9iamVjdCh7IFNwbGl0Q29pbnM6IHR1cGxlKFtTdWlBcmd1bWVudCwgYXJyYXkoU3VpQXJndW1lbnQpXSkgfSksXG4gIG9iamVjdCh7IE1lcmdlQ29pbnM6IHR1cGxlKFtTdWlBcmd1bWVudCwgYXJyYXkoU3VpQXJndW1lbnQpXSkgfSksXG4gIG9iamVjdCh7IFB1Ymxpc2g6IFN1aU1vdmVQYWNrYWdlIH0pLFxuICBvYmplY3QoeyBNYWtlTW92ZVZlYzogdHVwbGUoW251bGxhYmxlKHN0cmluZygpKSwgYXJyYXkoU3VpQXJndW1lbnQpXSkgfSksXG5dKTtcblxuZXhwb3J0IGNvbnN0IFN1aUNhbGxBcmcgPSB1bmlvbihbXG4gIG9iamVjdCh7XG4gICAgdHlwZTogbGl0ZXJhbCgncHVyZScpLFxuICAgIHZhbHVlVHlwZTogb3B0aW9uYWwoc3RyaW5nKCkpLFxuICAgIHZhbHVlOiBTdWlKc29uVmFsdWUsXG4gIH0pLFxuICBvYmplY3Qoe1xuICAgIHR5cGU6IGxpdGVyYWwoJ29iamVjdCcpLFxuICAgIG9iamVjdFR5cGU6IGxpdGVyYWwoJ2ltbU9yT3duZWRPYmplY3QnKSxcbiAgICBvYmplY3RJZDogT2JqZWN0SWQsXG4gICAgdmVyc2lvbjogU2VxdWVuY2VOdW1iZXIsXG4gICAgZGlnZXN0OiBPYmplY3REaWdlc3QsXG4gIH0pLFxuICBvYmplY3Qoe1xuICAgIHR5cGU6IGxpdGVyYWwoJ29iamVjdCcpLFxuICAgIG9iamVjdFR5cGU6IGxpdGVyYWwoJ3NoYXJlZE9iamVjdCcpLFxuICAgIG9iamVjdElkOiBPYmplY3RJZCxcbiAgICBpbml0aWFsU2hhcmVkVmVyc2lvbjogU2VxdWVuY2VOdW1iZXIsXG4gICAgbXV0YWJsZTogYm9vbGVhbigpLFxuICB9KSxcbl0pO1xuZXhwb3J0IHR5cGUgU3VpQ2FsbEFyZyA9IEluZmVyPHR5cGVvZiBTdWlDYWxsQXJnPjtcblxuZXhwb3J0IGNvbnN0IFByb2dyYW1tYWJsZVRyYW5zYWN0aW9uID0gb2JqZWN0KHtcbiAgdHJhbnNhY3Rpb25zOiBhcnJheShTdWlUcmFuc2FjdGlvbiksXG4gIGlucHV0czogYXJyYXkoU3VpQ2FsbEFyZyksXG59KTtcbmV4cG9ydCB0eXBlIFByb2dyYW1tYWJsZVRyYW5zYWN0aW9uID0gSW5mZXI8dHlwZW9mIFByb2dyYW1tYWJsZVRyYW5zYWN0aW9uPjtcbmV4cG9ydCB0eXBlIFN1aVRyYW5zYWN0aW9uID0gSW5mZXI8dHlwZW9mIFN1aVRyYW5zYWN0aW9uPjtcblxuLyoqXG4gKiAxLiBXYWl0Rm9yRWZmZWN0c0NlcnQ6IHdhaXRzIGZvciBUcmFuc2FjdGlvbkVmZmVjdHNDZXJ0IGFuZCB0aGVuIHJldHVybnMgdG8gdGhlIGNsaWVudC5cbiAqICAgIFRoaXMgbW9kZSBpcyBhIHByb3h5IGZvciB0cmFuc2FjdGlvbiBmaW5hbGl0eS5cbiAqIDIuIFdhaXRGb3JMb2NhbEV4ZWN1dGlvbjogd2FpdHMgZm9yIFRyYW5zYWN0aW9uRWZmZWN0c0NlcnQgYW5kIG1ha2VzIHN1cmUgdGhlIG5vZGVcbiAqICAgIGV4ZWN1dGVkIHRoZSB0cmFuc2FjdGlvbiBsb2NhbGx5IGJlZm9yZSByZXR1cm5pbmcgdG8gdGhlIGNsaWVudC4gVGhlIGxvY2FsIGV4ZWN1dGlvblxuICogICAgbWFrZXMgc3VyZSB0aGlzIG5vZGUgaXMgYXdhcmUgb2YgdGhpcyB0cmFuc2FjdGlvbiB3aGVuIHRoZSBjbGllbnQgZmlyZXMgc3Vic2VxdWVudCBxdWVyaWVzLlxuICogICAgSG93ZXZlciwgaWYgdGhlIG5vZGUgZmFpbHMgdG8gZXhlY3V0ZSB0aGUgdHJhbnNhY3Rpb24gbG9jYWxseSBpbiBhIHRpbWVseSBtYW5uZXIsXG4gKiAgICBhIGJvb2wgdHlwZSBpbiB0aGUgcmVzcG9uc2UgaXMgc2V0IHRvIGZhbHNlIHRvIGluZGljYXRlIHRoZSBjYXNlLlxuICovXG5leHBvcnQgdHlwZSBFeGVjdXRlVHJhbnNhY3Rpb25SZXF1ZXN0VHlwZSA9ICdXYWl0Rm9yRWZmZWN0c0NlcnQnIHwgJ1dhaXRGb3JMb2NhbEV4ZWN1dGlvbic7XG5cbmV4cG9ydCB0eXBlIFRyYW5zYWN0aW9uS2luZE5hbWUgPSAnQ2hhbmdlRXBvY2gnIHwgJ0NvbnNlbnN1c0NvbW1pdFByb2xvZ3VlJyB8ICdHZW5lc2lzJyB8ICdQcm9ncmFtbWFibGVUcmFuc2FjdGlvbic7XG5cbmV4cG9ydCBjb25zdCBTdWlUcmFuc2FjdGlvbkJsb2NrS2luZCA9IHVuaW9uKFtcbiAgYXNzaWduKFN1aUNoYW5nZUVwb2NoLCBvYmplY3QoeyBraW5kOiBsaXRlcmFsKCdDaGFuZ2VFcG9jaCcpIH0pKSxcbiAgYXNzaWduKFxuICAgIFN1aUNvbnNlbnN1c0NvbW1pdFByb2xvZ3VlLFxuICAgIG9iamVjdCh7XG4gICAgICBraW5kOiBsaXRlcmFsKCdDb25zZW5zdXNDb21taXRQcm9sb2d1ZScpLFxuICAgIH0pXG4gICksXG4gIGFzc2lnbihHZW5lc2lzLCBvYmplY3QoeyBraW5kOiBsaXRlcmFsKCdHZW5lc2lzJykgfSkpLFxuICBhc3NpZ24oUHJvZ3JhbW1hYmxlVHJhbnNhY3Rpb24sIG9iamVjdCh7IGtpbmQ6IGxpdGVyYWwoJ1Byb2dyYW1tYWJsZVRyYW5zYWN0aW9uJykgfSkpLFxuXSk7XG5leHBvcnQgdHlwZSBTdWlUcmFuc2FjdGlvbkJsb2NrS2luZCA9IEluZmVyPHR5cGVvZiBTdWlUcmFuc2FjdGlvbkJsb2NrS2luZD47XG5cbmV4cG9ydCBjb25zdCBTdWlUcmFuc2FjdGlvbkJsb2NrRGF0YSA9IG9iamVjdCh7XG4gIC8vIEV2ZW50dWFsbHkgdGhpcyB3aWxsIGJlY29tZSB1bmlvbihsaXRlcmFsKCd2MScpLCBsaXRlcmFsKCd2MicpLCAuLi4pXG4gIG1lc3NhZ2VWZXJzaW9uOiBsaXRlcmFsKCd2MScpLFxuICB0cmFuc2FjdGlvbjogU3VpVHJhbnNhY3Rpb25CbG9ja0tpbmQsXG4gIHNlbmRlcjogU3VpQWRkcmVzcyxcbiAgZ2FzRGF0YTogU3VpR2FzRGF0YSxcbn0pO1xuZXhwb3J0IHR5cGUgU3VpVHJhbnNhY3Rpb25CbG9ja0RhdGEgPSBJbmZlcjx0eXBlb2YgU3VpVHJhbnNhY3Rpb25CbG9ja0RhdGE+O1xuXG5leHBvcnQgY29uc3QgQXV0aG9yaXR5U2lnbmF0dXJlID0gc3RyaW5nKCk7XG5leHBvcnQgY29uc3QgR2VuZXJpY0F1dGhvcml0eVNpZ25hdHVyZSA9IHVuaW9uKFtBdXRob3JpdHlTaWduYXR1cmUsIGFycmF5KEF1dGhvcml0eVNpZ25hdHVyZSldKTtcblxuZXhwb3J0IGNvbnN0IEF1dGhvcml0eVF1b3J1bVNpZ25JbmZvID0gb2JqZWN0KHtcbiAgZXBvY2g6IEVwb2NoSWQsXG4gIHNpZ25hdHVyZTogR2VuZXJpY0F1dGhvcml0eVNpZ25hdHVyZSxcbiAgc2lnbmVyc19tYXA6IGFycmF5KG51bWJlcigpKSxcbn0pO1xuZXhwb3J0IHR5cGUgQXV0aG9yaXR5UXVvcnVtU2lnbkluZm8gPSBJbmZlcjx0eXBlb2YgQXV0aG9yaXR5UXVvcnVtU2lnbkluZm8+O1xuXG5leHBvcnQgY29uc3QgR2FzQ29zdFN1bW1hcnkgPSBvYmplY3Qoe1xuICBjb21wdXRhdGlvbkNvc3Q6IHN0cmluZygpLFxuICBzdG9yYWdlQ29zdDogc3RyaW5nKCksXG4gIHN0b3JhZ2VSZWJhdGU6IHN0cmluZygpLFxuICBub25SZWZ1bmRhYmxlU3RvcmFnZUZlZTogc3RyaW5nKCksXG59KTtcbmV4cG9ydCB0eXBlIEdhc0Nvc3RTdW1tYXJ5ID0gSW5mZXI8dHlwZW9mIEdhc0Nvc3RTdW1tYXJ5PjtcblxuZXhwb3J0IGNvbnN0IEV4ZWN1dGlvblN0YXR1c1R5cGUgPSB1bmlvbihbbGl0ZXJhbCgnc3VjY2VzcycpLCBsaXRlcmFsKCdmYWlsdXJlJyldKTtcbmV4cG9ydCB0eXBlIEV4ZWN1dGlvblN0YXR1c1R5cGUgPSBJbmZlcjx0eXBlb2YgRXhlY3V0aW9uU3RhdHVzVHlwZT47XG5cbmV4cG9ydCBjb25zdCBFeGVjdXRpb25TdGF0dXMgPSBvYmplY3Qoe1xuICBzdGF0dXM6IEV4ZWN1dGlvblN0YXR1c1R5cGUsXG4gIGVycm9yOiBvcHRpb25hbChzdHJpbmcoKSksXG59KTtcbmV4cG9ydCB0eXBlIEV4ZWN1dGlvblN0YXR1cyA9IEluZmVyPHR5cGVvZiBFeGVjdXRpb25TdGF0dXM+O1xuXG5leHBvcnQgY29uc3QgT3duZWRPYmplY3RSZWYgPSBvYmplY3Qoe1xuICBvd25lcjogT2JqZWN0T3duZXIsXG4gIHJlZmVyZW5jZTogU3VpT2JqZWN0UmVmLFxufSk7XG5leHBvcnQgdHlwZSBPd25lZE9iamVjdFJlZiA9IEluZmVyPHR5cGVvZiBPd25lZE9iamVjdFJlZj47XG5leHBvcnQgY29uc3QgVHJhbnNhY3Rpb25FZmZlY3RzTW9kaWZpZWRBdFZlcnNpb25zID0gb2JqZWN0KHtcbiAgb2JqZWN0SWQ6IE9iamVjdElkLFxuICBzZXF1ZW5jZU51bWJlcjogU2VxdWVuY2VOdW1iZXIsXG59KTtcblxuZXhwb3J0IGNvbnN0IFRyYW5zYWN0aW9uRWZmZWN0cyA9IG9iamVjdCh7XG4gIC8vIEV2ZW50dWFsbHkgdGhpcyB3aWxsIGJlY29tZSB1bmlvbihsaXRlcmFsKCd2MScpLCBsaXRlcmFsKCd2MicpLCAuLi4pXG4gIG1lc3NhZ2VWZXJzaW9uOiBsaXRlcmFsKCd2MScpLFxuXG4gIC8qKiBUaGUgc3RhdHVzIG9mIHRoZSBleGVjdXRpb24gKi9cbiAgc3RhdHVzOiBFeGVjdXRpb25TdGF0dXMsXG4gIC8qKiBUaGUgZXBvY2ggd2hlbiB0aGlzIHRyYW5zYWN0aW9uIHdhcyBleGVjdXRlZCAqL1xuICBleGVjdXRlZEVwb2NoOiBFcG9jaElkLFxuICAvKiogVGhlIHZlcnNpb24gdGhhdCBldmVyeSBtb2RpZmllZCAobXV0YXRlZCBvciBkZWxldGVkKSBvYmplY3QgaGFkIGJlZm9yZSBpdCB3YXMgbW9kaWZpZWQgYnkgdGhpcyB0cmFuc2FjdGlvbi4gKiovXG4gIG1vZGlmaWVkQXRWZXJzaW9uczogb3B0aW9uYWwoYXJyYXkoVHJhbnNhY3Rpb25FZmZlY3RzTW9kaWZpZWRBdFZlcnNpb25zKSksXG4gIGdhc1VzZWQ6IEdhc0Nvc3RTdW1tYXJ5LFxuICAvKiogVGhlIG9iamVjdCByZWZlcmVuY2VzIG9mIHRoZSBzaGFyZWQgb2JqZWN0cyB1c2VkIGluIHRoaXMgdHJhbnNhY3Rpb24uIEVtcHR5IGlmIG5vIHNoYXJlZCBvYmplY3RzIHdlcmUgdXNlZC4gKi9cbiAgc2hhcmVkT2JqZWN0czogb3B0aW9uYWwoYXJyYXkoU3VpT2JqZWN0UmVmKSksXG4gIC8qKiBUaGUgdHJhbnNhY3Rpb24gZGlnZXN0ICovXG4gIHRyYW5zYWN0aW9uRGlnZXN0OiBUcmFuc2FjdGlvbkRpZ2VzdCxcbiAgLyoqIE9iamVjdFJlZiBhbmQgb3duZXIgb2YgbmV3IG9iamVjdHMgY3JlYXRlZCAqL1xuICBjcmVhdGVkOiBvcHRpb25hbChhcnJheShPd25lZE9iamVjdFJlZikpLFxuICAvKiogT2JqZWN0UmVmIGFuZCBvd25lciBvZiBtdXRhdGVkIG9iamVjdHMsIGluY2x1ZGluZyBnYXMgb2JqZWN0ICovXG4gIG11dGF0ZWQ6IG9wdGlvbmFsKGFycmF5KE93bmVkT2JqZWN0UmVmKSksXG4gIC8qKlxuICAgKiBPYmplY3RSZWYgYW5kIG93bmVyIG9mIG9iamVjdHMgdGhhdCBhcmUgdW53cmFwcGVkIGluIHRoaXMgdHJhbnNhY3Rpb24uXG4gICAqIFVud3JhcHBlZCBvYmplY3RzIGFyZSBvYmplY3RzIHRoYXQgd2VyZSB3cmFwcGVkIGludG8gb3RoZXIgb2JqZWN0cyBpbiB0aGUgcGFzdCxcbiAgICogYW5kIGp1c3QgZ290IGV4dHJhY3RlZCBvdXQuXG4gICAqL1xuICB1bndyYXBwZWQ6IG9wdGlvbmFsKGFycmF5KE93bmVkT2JqZWN0UmVmKSksXG4gIC8qKiBPYmplY3QgUmVmcyBvZiBvYmplY3RzIG5vdyBkZWxldGVkICh0aGUgb2xkIHJlZnMpICovXG4gIGRlbGV0ZWQ6IG9wdGlvbmFsKGFycmF5KFN1aU9iamVjdFJlZikpLFxuICAvKiogT2JqZWN0IFJlZnMgb2Ygb2JqZWN0cyBub3cgZGVsZXRlZCAodGhlIG9sZCByZWZzKSAqL1xuICB1bndyYXBwZWRfdGhlbl9kZWxldGVkOiBvcHRpb25hbChhcnJheShTdWlPYmplY3RSZWYpKSxcbiAgLyoqIE9iamVjdCByZWZzIG9mIG9iamVjdHMgbm93IHdyYXBwZWQgaW4gb3RoZXIgb2JqZWN0cyAqL1xuICB3cmFwcGVkOiBvcHRpb25hbChhcnJheShTdWlPYmplY3RSZWYpKSxcbiAgLyoqXG4gICAqIFRoZSB1cGRhdGVkIGdhcyBvYmplY3QgcmVmZXJlbmNlLiBIYXZlIGEgZGVkaWNhdGVkIGZpZWxkIGZvciBjb252ZW5pZW50IGFjY2Vzcy5cbiAgICogSXQncyBhbHNvIGluY2x1ZGVkIGluIG11dGF0ZWQuXG4gICAqL1xuICBnYXNPYmplY3Q6IE93bmVkT2JqZWN0UmVmLFxuICAvKiogVGhlIGV2ZW50cyBlbWl0dGVkIGR1cmluZyBleGVjdXRpb24uIE5vdGUgdGhhdCBvbmx5IHN1Y2Nlc3NmdWwgdHJhbnNhY3Rpb25zIGVtaXQgZXZlbnRzICovXG4gIGV2ZW50c0RpZ2VzdDogb3B0aW9uYWwoVHJhbnNhY3Rpb25FdmVudERpZ2VzdCksXG4gIC8qKiBUaGUgc2V0IG9mIHRyYW5zYWN0aW9uIGRpZ2VzdHMgdGhpcyB0cmFuc2FjdGlvbiBkZXBlbmRzIG9uICovXG4gIGRlcGVuZGVuY2llczogb3B0aW9uYWwoYXJyYXkoVHJhbnNhY3Rpb25EaWdlc3QpKSxcbn0pO1xuZXhwb3J0IHR5cGUgVHJhbnNhY3Rpb25FZmZlY3RzID0gSW5mZXI8dHlwZW9mIFRyYW5zYWN0aW9uRWZmZWN0cz47XG5cbmV4cG9ydCBjb25zdCBUcmFuc2FjdGlvbkV2ZW50cyA9IGFycmF5KFN1aUV2ZW50KTtcbmV4cG9ydCB0eXBlIFRyYW5zYWN0aW9uRXZlbnRzID0gSW5mZXI8dHlwZW9mIFRyYW5zYWN0aW9uRXZlbnRzPjtcblxuY29uc3QgUmV0dXJuVmFsdWVUeXBlID0gdHVwbGUoW2FycmF5KG51bWJlcigpKSwgc3RyaW5nKCldKTtcbmNvbnN0IE11dGFibGVSZWZlcmVuY2VPdXRwdXRUeXBlID0gdHVwbGUoW1N1aUFyZ3VtZW50LCBhcnJheShudW1iZXIoKSksIHN0cmluZygpXSk7XG5jb25zdCBFeGVjdXRpb25SZXN1bHRUeXBlID0gb2JqZWN0KHtcbiAgbXV0YWJsZVJlZmVyZW5jZU91dHB1dHM6IG9wdGlvbmFsKGFycmF5KE11dGFibGVSZWZlcmVuY2VPdXRwdXRUeXBlKSksXG4gIHJldHVyblZhbHVlczogb3B0aW9uYWwoYXJyYXkoUmV0dXJuVmFsdWVUeXBlKSksXG59KTtcblxuZXhwb3J0IGNvbnN0IERldkluc3BlY3RSZXN1bHRzID0gb2JqZWN0KHtcbiAgZWZmZWN0czogVHJhbnNhY3Rpb25FZmZlY3RzLFxuICBldmVudHM6IFRyYW5zYWN0aW9uRXZlbnRzLFxuICByZXN1bHRzOiBvcHRpb25hbChhcnJheShFeGVjdXRpb25SZXN1bHRUeXBlKSksXG4gIGVycm9yOiBvcHRpb25hbChzdHJpbmcoKSksXG59KTtcbmV4cG9ydCB0eXBlIERldkluc3BlY3RSZXN1bHRzID0gSW5mZXI8dHlwZW9mIERldkluc3BlY3RSZXN1bHRzPjtcblxuZXhwb3J0IHR5cGUgU3VpVHJhbnNhY3Rpb25CbG9ja1Jlc3BvbnNlUXVlcnkgPSB7XG4gIGZpbHRlcj86IFRyYW5zYWN0aW9uRmlsdGVyO1xuICBvcHRpb25zPzogU3VpVHJhbnNhY3Rpb25CbG9ja1Jlc3BvbnNlT3B0aW9ucztcbn07XG5cbmV4cG9ydCB0eXBlIFRyYW5zYWN0aW9uRmlsdGVyID1cbiAgfCB7XG4gICAgICBNb3ZlRnVuY3Rpb246IHtcbiAgICAgICAgcGFja2FnZTogT2JqZWN0SWQ7XG4gICAgICAgIG1vZHVsZTogc3RyaW5nIHwgbnVsbDtcbiAgICAgICAgZnVuY3Rpb246IHN0cmluZyB8IG51bGw7XG4gICAgICB9O1xuICAgIH1cbiAgfCB7IElucHV0T2JqZWN0OiBPYmplY3RJZCB9XG4gIHwgeyBDaGFuZ2VkT2JqZWN0OiBPYmplY3RJZCB9XG4gIHwgeyBGcm9tQWRkcmVzczogU3VpQWRkcmVzcyB9XG4gIHwgeyBUb0FkZHJlc3M6IFN1aUFkZHJlc3MgfTtcblxuZXhwb3J0IHR5cGUgRW1wdHlTaWduSW5mbyA9IG9iamVjdDtcbmV4cG9ydCB0eXBlIEF1dGhvcml0eU5hbWUgPSBJbmZlcjx0eXBlb2YgQXV0aG9yaXR5TmFtZT47XG5leHBvcnQgY29uc3QgQXV0aG9yaXR5TmFtZSA9IHN0cmluZygpO1xuXG5leHBvcnQgY29uc3QgU3VpVHJhbnNhY3Rpb25CbG9jayA9IG9iamVjdCh7XG4gIGRhdGE6IFN1aVRyYW5zYWN0aW9uQmxvY2tEYXRhLFxuICB0eFNpZ25hdHVyZXM6IGFycmF5KHN0cmluZygpKSxcbn0pO1xuZXhwb3J0IHR5cGUgU3VpVHJhbnNhY3Rpb25CbG9jayA9IEluZmVyPHR5cGVvZiBTdWlUcmFuc2FjdGlvbkJsb2NrPjtcblxuZXhwb3J0IGNvbnN0IFN1aU9iamVjdENoYW5nZVB1Ymxpc2hlZCA9IG9iamVjdCh7XG4gIHR5cGU6IGxpdGVyYWwoJ3B1Ymxpc2hlZCcpLFxuICBwYWNrYWdlSWQ6IE9iamVjdElkLFxuICB2ZXJzaW9uOiBTZXF1ZW5jZU51bWJlcixcbiAgZGlnZXN0OiBPYmplY3REaWdlc3QsXG4gIG1vZHVsZXM6IGFycmF5KHN0cmluZygpKSxcbn0pO1xuZXhwb3J0IHR5cGUgU3VpT2JqZWN0Q2hhbmdlUHVibGlzaGVkID0gSW5mZXI8dHlwZW9mIFN1aU9iamVjdENoYW5nZVB1Ymxpc2hlZD47XG5cbmV4cG9ydCBjb25zdCBTdWlPYmplY3RDaGFuZ2VUcmFuc2ZlcnJlZCA9IG9iamVjdCh7XG4gIHR5cGU6IGxpdGVyYWwoJ3RyYW5zZmVycmVkJyksXG4gIHNlbmRlcjogU3VpQWRkcmVzcyxcbiAgcmVjaXBpZW50OiBPYmplY3RPd25lcixcbiAgb2JqZWN0VHlwZTogc3RyaW5nKCksXG4gIG9iamVjdElkOiBPYmplY3RJZCxcbiAgdmVyc2lvbjogU2VxdWVuY2VOdW1iZXIsXG4gIGRpZ2VzdDogT2JqZWN0RGlnZXN0LFxufSk7XG5leHBvcnQgdHlwZSBTdWlPYmplY3RDaGFuZ2VUcmFuc2ZlcnJlZCA9IEluZmVyPHR5cGVvZiBTdWlPYmplY3RDaGFuZ2VUcmFuc2ZlcnJlZD47XG5cbmV4cG9ydCBjb25zdCBTdWlPYmplY3RDaGFuZ2VNdXRhdGVkID0gb2JqZWN0KHtcbiAgdHlwZTogbGl0ZXJhbCgnbXV0YXRlZCcpLFxuICBzZW5kZXI6IFN1aUFkZHJlc3MsXG4gIG93bmVyOiBPYmplY3RPd25lcixcbiAgb2JqZWN0VHlwZTogc3RyaW5nKCksXG4gIG9iamVjdElkOiBPYmplY3RJZCxcbiAgdmVyc2lvbjogU2VxdWVuY2VOdW1iZXIsXG4gIHByZXZpb3VzVmVyc2lvbjogU2VxdWVuY2VOdW1iZXIsXG4gIGRpZ2VzdDogT2JqZWN0RGlnZXN0LFxufSk7XG5leHBvcnQgdHlwZSBTdWlPYmplY3RDaGFuZ2VNdXRhdGVkID0gSW5mZXI8dHlwZW9mIFN1aU9iamVjdENoYW5nZU11dGF0ZWQ+O1xuXG5leHBvcnQgY29uc3QgU3VpT2JqZWN0Q2hhbmdlRGVsZXRlZCA9IG9iamVjdCh7XG4gIHR5cGU6IGxpdGVyYWwoJ2RlbGV0ZWQnKSxcbiAgc2VuZGVyOiBTdWlBZGRyZXNzLFxuICBvYmplY3RUeXBlOiBzdHJpbmcoKSxcbiAgb2JqZWN0SWQ6IE9iamVjdElkLFxuICB2ZXJzaW9uOiBTZXF1ZW5jZU51bWJlcixcbn0pO1xuZXhwb3J0IHR5cGUgU3VpT2JqZWN0Q2hhbmdlRGVsZXRlZCA9IEluZmVyPHR5cGVvZiBTdWlPYmplY3RDaGFuZ2VEZWxldGVkPjtcblxuZXhwb3J0IGNvbnN0IFN1aU9iamVjdENoYW5nZVdyYXBwZWQgPSBvYmplY3Qoe1xuICB0eXBlOiBsaXRlcmFsKCd3cmFwcGVkJyksXG4gIHNlbmRlcjogU3VpQWRkcmVzcyxcbiAgb2JqZWN0VHlwZTogc3RyaW5nKCksXG4gIG9iamVjdElkOiBPYmplY3RJZCxcbiAgdmVyc2lvbjogU2VxdWVuY2VOdW1iZXIsXG59KTtcbmV4cG9ydCB0eXBlIFN1aU9iamVjdENoYW5nZVdyYXBwZWQgPSBJbmZlcjx0eXBlb2YgU3VpT2JqZWN0Q2hhbmdlV3JhcHBlZD47XG5cbmV4cG9ydCBjb25zdCBTdWlPYmplY3RDaGFuZ2VDcmVhdGVkID0gb2JqZWN0KHtcbiAgdHlwZTogbGl0ZXJhbCgnY3JlYXRlZCcpLFxuICBzZW5kZXI6IFN1aUFkZHJlc3MsXG4gIG93bmVyOiBPYmplY3RPd25lcixcbiAgb2JqZWN0VHlwZTogc3RyaW5nKCksXG4gIG9iamVjdElkOiBPYmplY3RJZCxcbiAgdmVyc2lvbjogU2VxdWVuY2VOdW1iZXIsXG4gIGRpZ2VzdDogT2JqZWN0RGlnZXN0LFxufSk7XG5leHBvcnQgdHlwZSBTdWlPYmplY3RDaGFuZ2VDcmVhdGVkID0gSW5mZXI8dHlwZW9mIFN1aU9iamVjdENoYW5nZUNyZWF0ZWQ+O1xuXG5leHBvcnQgY29uc3QgU3VpT2JqZWN0Q2hhbmdlID0gdW5pb24oW1xuICBTdWlPYmplY3RDaGFuZ2VQdWJsaXNoZWQsXG4gIFN1aU9iamVjdENoYW5nZVRyYW5zZmVycmVkLFxuICBTdWlPYmplY3RDaGFuZ2VNdXRhdGVkLFxuICBTdWlPYmplY3RDaGFuZ2VEZWxldGVkLFxuICBTdWlPYmplY3RDaGFuZ2VXcmFwcGVkLFxuICBTdWlPYmplY3RDaGFuZ2VDcmVhdGVkLFxuXSk7XG5leHBvcnQgdHlwZSBTdWlPYmplY3RDaGFuZ2UgPSBJbmZlcjx0eXBlb2YgU3VpT2JqZWN0Q2hhbmdlPjtcblxuZXhwb3J0IGNvbnN0IEJhbGFuY2VDaGFuZ2UgPSBvYmplY3Qoe1xuICBvd25lcjogT2JqZWN0T3duZXIsXG4gIGNvaW5UeXBlOiBzdHJpbmcoKSxcbiAgLyogQ29pbiBiYWxhbmNlIGNoYW5nZShwb3NpdGl2ZSBtZWFucyByZWNlaXZlLCBuZWdhdGl2ZSBtZWFucyBzZW5kKSAqL1xuICBhbW91bnQ6IHN0cmluZygpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBTdWlUcmFuc2FjdGlvbkJsb2NrUmVzcG9uc2UgPSBvYmplY3Qoe1xuICBkaWdlc3Q6IFRyYW5zYWN0aW9uRGlnZXN0LFxuICB0cmFuc2FjdGlvbjogb3B0aW9uYWwoU3VpVHJhbnNhY3Rpb25CbG9jayksXG4gIGVmZmVjdHM6IG9wdGlvbmFsKFRyYW5zYWN0aW9uRWZmZWN0cyksXG4gIGV2ZW50czogb3B0aW9uYWwoVHJhbnNhY3Rpb25FdmVudHMpLFxuICB0aW1lc3RhbXBNczogb3B0aW9uYWwobnVtYmVyKCkpLFxuICBjaGVja3BvaW50OiBvcHRpb25hbChudW1iZXIoKSksXG4gIGNvbmZpcm1lZExvY2FsRXhlY3V0aW9uOiBvcHRpb25hbChib29sZWFuKCkpLFxuICBvYmplY3RDaGFuZ2VzOiBvcHRpb25hbChhcnJheShTdWlPYmplY3RDaGFuZ2UpKSxcbiAgYmFsYW5jZUNoYW5nZXM6IG9wdGlvbmFsKGFycmF5KEJhbGFuY2VDaGFuZ2UpKSxcbiAgLyogRXJyb3JzIHRoYXQgb2NjdXJyZWQgaW4gZmV0Y2hpbmcvc2VyaWFsaXppbmcgdGhlIHRyYW5zYWN0aW9uLiAqL1xuICBlcnJvcnM6IG9wdGlvbmFsKGFycmF5KHN0cmluZygpKSksXG59KTtcbmV4cG9ydCB0eXBlIFN1aVRyYW5zYWN0aW9uQmxvY2tSZXNwb25zZSA9IEluZmVyPHR5cGVvZiBTdWlUcmFuc2FjdGlvbkJsb2NrUmVzcG9uc2U+O1xuXG5leHBvcnQgY29uc3QgU3VpVHJhbnNhY3Rpb25CbG9ja1Jlc3BvbnNlT3B0aW9ucyA9IG9iamVjdCh7XG4gIC8qIFdoZXRoZXIgdG8gc2hvdyB0cmFuc2FjdGlvbiBpbnB1dCBkYXRhLiBEZWZhdWx0IHRvIGJlIGZhbHNlLiAqL1xuICBzaG93SW5wdXQ6IG9wdGlvbmFsKGJvb2xlYW4oKSksXG4gIC8qIFdoZXRoZXIgdG8gc2hvdyB0cmFuc2FjdGlvbiBlZmZlY3RzLiBEZWZhdWx0IHRvIGJlIGZhbHNlLiAqL1xuICBzaG93RWZmZWN0czogb3B0aW9uYWwoYm9vbGVhbigpKSxcbiAgLyogV2hldGhlciB0byBzaG93IHRyYW5zYWN0aW9uIGV2ZW50cy4gRGVmYXVsdCB0byBiZSBmYWxzZS4gKi9cbiAgc2hvd0V2ZW50czogb3B0aW9uYWwoYm9vbGVhbigpKSxcbiAgLyogV2hldGhlciB0byBzaG93IG9iamVjdCBjaGFuZ2VzLiBEZWZhdWx0IHRvIGJlIGZhbHNlLiAqL1xuICBzaG93T2JqZWN0Q2hhbmdlczogb3B0aW9uYWwoYm9vbGVhbigpKSxcbiAgLyogV2hldGhlciB0byBzaG93IGNvaW4gYmFsYW5jZSBjaGFuZ2VzLiBEZWZhdWx0IHRvIGJlIGZhbHNlLiAqL1xuICBzaG93QmFsYW5jZUNoYW5nZXM6IG9wdGlvbmFsKGJvb2xlYW4oKSksXG59KTtcblxuZXhwb3J0IHR5cGUgU3VpVHJhbnNhY3Rpb25CbG9ja1Jlc3BvbnNlT3B0aW9ucyA9IEluZmVyPHR5cGVvZiBTdWlUcmFuc2FjdGlvbkJsb2NrUmVzcG9uc2VPcHRpb25zPjtcblxuZXhwb3J0IGNvbnN0IFBhZ2luYXRlZFRyYW5zYWN0aW9uUmVzcG9uc2UgPSBvYmplY3Qoe1xuICBkYXRhOiBhcnJheShTdWlUcmFuc2FjdGlvbkJsb2NrUmVzcG9uc2UpLFxuICBuZXh0Q3Vyc29yOiB1bmlvbihbVHJhbnNhY3Rpb25EaWdlc3QsIGxpdGVyYWwobnVsbCldKSxcbiAgaGFzTmV4dFBhZ2U6IGJvb2xlYW4oKSxcbn0pO1xuZXhwb3J0IHR5cGUgUGFnaW5hdGVkVHJhbnNhY3Rpb25SZXNwb25zZSA9IEluZmVyPHR5cGVvZiBQYWdpbmF0ZWRUcmFuc2FjdGlvblJlc3BvbnNlPjtcbmV4cG9ydCBjb25zdCBEcnlSdW5UcmFuc2FjdGlvbkJsb2NrUmVzcG9uc2UgPSBvYmplY3Qoe1xuICBlZmZlY3RzOiBUcmFuc2FjdGlvbkVmZmVjdHMsXG4gIGV2ZW50czogVHJhbnNhY3Rpb25FdmVudHMsXG4gIG9iamVjdENoYW5nZXM6IGFycmF5KFN1aU9iamVjdENoYW5nZSksXG4gIGJhbGFuY2VDaGFuZ2VzOiBhcnJheShCYWxhbmNlQ2hhbmdlKSxcbn0pO1xuZXhwb3J0IHR5cGUgRHJ5UnVuVHJhbnNhY3Rpb25CbG9ja1Jlc3BvbnNlID0gSW5mZXI8dHlwZW9mIERyeVJ1blRyYW5zYWN0aW9uQmxvY2tSZXNwb25zZT47XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlciBmdW5jdGlvbnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zYWN0aW9uKHR4OiBTdWlUcmFuc2FjdGlvbkJsb2NrUmVzcG9uc2UpOiBTdWlUcmFuc2FjdGlvbkJsb2NrIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIHR4LnRyYW5zYWN0aW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNhY3Rpb25EaWdlc3QodHg6IFN1aVRyYW5zYWN0aW9uQmxvY2tSZXNwb25zZSk6IFRyYW5zYWN0aW9uRGlnZXN0IHtcbiAgcmV0dXJuIHR4LmRpZ2VzdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zYWN0aW9uU2lnbmF0dXJlKHR4OiBTdWlUcmFuc2FjdGlvbkJsb2NrUmVzcG9uc2UpOiBzdHJpbmdbXSB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiB0eC50cmFuc2FjdGlvbj8udHhTaWduYXR1cmVzO1xufVxuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBUcmFuc2FjdGlvbkRhdGEgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNhY3Rpb25TZW5kZXIodHg6IFN1aVRyYW5zYWN0aW9uQmxvY2tSZXNwb25zZSk6IFN1aUFkZHJlc3MgfCB1bmRlZmluZWQge1xuICByZXR1cm4gdHgudHJhbnNhY3Rpb24/LmRhdGEuc2VuZGVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2FzRGF0YSh0eDogU3VpVHJhbnNhY3Rpb25CbG9ja1Jlc3BvbnNlKTogU3VpR2FzRGF0YSB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiB0eC50cmFuc2FjdGlvbj8uZGF0YS5nYXNEYXRhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNhY3Rpb25HYXNPYmplY3QodHg6IFN1aVRyYW5zYWN0aW9uQmxvY2tSZXNwb25zZSk6IFN1aU9iamVjdFJlZltdIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGdldEdhc0RhdGEodHgpPy5wYXltZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNhY3Rpb25HYXNQcmljZSh0eDogU3VpVHJhbnNhY3Rpb25CbG9ja1Jlc3BvbnNlKSB7XG4gIHJldHVybiBnZXRHYXNEYXRhKHR4KT8ucHJpY2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2FjdGlvbkdhc0J1ZGdldCh0eDogU3VpVHJhbnNhY3Rpb25CbG9ja1Jlc3BvbnNlKSB7XG4gIHJldHVybiBnZXRHYXNEYXRhKHR4KT8uYnVkZ2V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2hhbmdlRXBvY2hUcmFuc2FjdGlvbihkYXRhOiBTdWlUcmFuc2FjdGlvbkJsb2NrS2luZCk6IFN1aUNoYW5nZUVwb2NoIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGRhdGEua2luZCA9PT0gJ0NoYW5nZUVwb2NoJyA/IGRhdGEgOiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb25zZW5zdXNDb21taXRQcm9sb2d1ZVRyYW5zYWN0aW9uKFxuICBkYXRhOiBTdWlUcmFuc2FjdGlvbkJsb2NrS2luZFxuKTogU3VpQ29uc2Vuc3VzQ29tbWl0UHJvbG9ndWUgfCB1bmRlZmluZWQge1xuICByZXR1cm4gZGF0YS5raW5kID09PSAnQ29uc2Vuc3VzQ29tbWl0UHJvbG9ndWUnID8gZGF0YSA6IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zYWN0aW9uS2luZChkYXRhOiBTdWlUcmFuc2FjdGlvbkJsb2NrUmVzcG9uc2UpOiBTdWlUcmFuc2FjdGlvbkJsb2NrS2luZCB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBkYXRhLnRyYW5zYWN0aW9uPy5kYXRhLnRyYW5zYWN0aW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNhY3Rpb25LaW5kTmFtZShkYXRhOiBTdWlUcmFuc2FjdGlvbkJsb2NrS2luZCk6IFRyYW5zYWN0aW9uS2luZE5hbWUge1xuICByZXR1cm4gZGF0YS5raW5kO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvZ3JhbW1hYmxlVHJhbnNhY3Rpb24oZGF0YTogU3VpVHJhbnNhY3Rpb25CbG9ja0tpbmQpOiBQcm9ncmFtbWFibGVUcmFuc2FjdGlvbiB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBkYXRhLmtpbmQgPT09ICdQcm9ncmFtbWFibGVUcmFuc2FjdGlvbicgPyBkYXRhIDogdW5kZWZpbmVkO1xufVxuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFeGVjdXRpb25TdGF0dXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXhlY3V0aW9uU3RhdHVzVHlwZShkYXRhOiBTdWlUcmFuc2FjdGlvbkJsb2NrUmVzcG9uc2UpOiBFeGVjdXRpb25TdGF0dXNUeXBlIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGdldEV4ZWN1dGlvblN0YXR1cyhkYXRhKT8uc3RhdHVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXhlY3V0aW9uU3RhdHVzKGRhdGE6IFN1aVRyYW5zYWN0aW9uQmxvY2tSZXNwb25zZSk6IEV4ZWN1dGlvblN0YXR1cyB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBnZXRUcmFuc2FjdGlvbkVmZmVjdHMoZGF0YSk/LnN0YXR1cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEV4ZWN1dGlvblN0YXR1c0Vycm9yKGRhdGE6IFN1aVRyYW5zYWN0aW9uQmxvY2tSZXNwb25zZSk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBnZXRFeGVjdXRpb25TdGF0dXMoZGF0YSk/LmVycm9yO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXhlY3V0aW9uU3RhdHVzR2FzU3VtbWFyeShcbiAgZGF0YTogU3VpVHJhbnNhY3Rpb25CbG9ja1Jlc3BvbnNlIHwgVHJhbnNhY3Rpb25FZmZlY3RzXG4pOiBHYXNDb3N0U3VtbWFyeSB8IHVuZGVmaW5lZCB7XG4gIGlmIChpcyhkYXRhLCBUcmFuc2FjdGlvbkVmZmVjdHMpKSB7XG4gICAgcmV0dXJuIGRhdGEuZ2FzVXNlZDtcbiAgfVxuICByZXR1cm4gZ2V0VHJhbnNhY3Rpb25FZmZlY3RzKGRhdGEpPy5nYXNVc2VkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG90YWxHYXNVc2VkKGRhdGE6IFN1aVRyYW5zYWN0aW9uQmxvY2tSZXNwb25zZSB8IFRyYW5zYWN0aW9uRWZmZWN0cyk6IGJpZ2ludCB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IGdhc1N1bW1hcnkgPSBnZXRFeGVjdXRpb25TdGF0dXNHYXNTdW1tYXJ5KGRhdGEpO1xuICByZXR1cm4gZ2FzU3VtbWFyeVxuICAgID8gQmlnSW50KGdhc1N1bW1hcnkuY29tcHV0YXRpb25Db3N0KSArIEJpZ0ludChnYXNTdW1tYXJ5LnN0b3JhZ2VDb3N0KSAtIEJpZ0ludChnYXNTdW1tYXJ5LnN0b3JhZ2VSZWJhdGUpXG4gICAgOiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3RhbEdhc1VzZWRVcHBlckJvdW5kKGRhdGE6IFN1aVRyYW5zYWN0aW9uQmxvY2tSZXNwb25zZSB8IFRyYW5zYWN0aW9uRWZmZWN0cyk6IGJpZ2ludCB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IGdhc1N1bW1hcnkgPSBnZXRFeGVjdXRpb25TdGF0dXNHYXNTdW1tYXJ5KGRhdGEpO1xuICByZXR1cm4gZ2FzU3VtbWFyeSA/IEJpZ0ludChnYXNTdW1tYXJ5LmNvbXB1dGF0aW9uQ29zdCkgKyBCaWdJbnQoZ2FzU3VtbWFyeS5zdG9yYWdlQ29zdCkgOiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2FjdGlvbkVmZmVjdHMoZGF0YTogU3VpVHJhbnNhY3Rpb25CbG9ja1Jlc3BvbnNlKTogVHJhbnNhY3Rpb25FZmZlY3RzIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGRhdGEuZWZmZWN0cztcbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBUcmFuc2FjdGlvbiBFZmZlY3RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXZlbnRzKGRhdGE6IFN1aVRyYW5zYWN0aW9uQmxvY2tSZXNwb25zZSk6IFN1aUV2ZW50W10gfCB1bmRlZmluZWQge1xuICByZXR1cm4gZGF0YS5ldmVudHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDcmVhdGVkT2JqZWN0cyhkYXRhOiBTdWlUcmFuc2FjdGlvbkJsb2NrUmVzcG9uc2UpOiBPd25lZE9iamVjdFJlZltdIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGdldFRyYW5zYWN0aW9uRWZmZWN0cyhkYXRhKT8uY3JlYXRlZDtcbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFRyYW5zYWN0aW9uUmVzcG9uc2UgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpbWVzdGFtcEZyb21UcmFuc2FjdGlvblJlc3BvbnNlKGRhdGE6IFN1aVRyYW5zYWN0aW9uQmxvY2tSZXNwb25zZSk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBkYXRhLnRpbWVzdGFtcE1zID8/IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG5ld2x5IGNyZWF0ZWQgY29pbiByZWZzIGFmdGVyIGEgc3BsaXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXROZXdseUNyZWF0ZWRDb2luUmVmc0FmdGVyU3BsaXQoZGF0YTogU3VpVHJhbnNhY3Rpb25CbG9ja1Jlc3BvbnNlKTogU3VpT2JqZWN0UmVmW10gfCB1bmRlZmluZWQge1xuICByZXR1cm4gZ2V0VHJhbnNhY3Rpb25FZmZlY3RzKGRhdGEpPy5jcmVhdGVkPy5tYXAoKGMpID0+IGMucmVmZXJlbmNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE9iamVjdENoYW5nZXMoZGF0YTogU3VpVHJhbnNhY3Rpb25CbG9ja1Jlc3BvbnNlKTogU3VpT2JqZWN0Q2hhbmdlW10gfCB1bmRlZmluZWQge1xuICByZXR1cm4gZGF0YS5vYmplY3RDaGFuZ2VzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHVibGlzaGVkT2JqZWN0Q2hhbmdlcyhkYXRhOiBTdWlUcmFuc2FjdGlvbkJsb2NrUmVzcG9uc2UpOiBTdWlPYmplY3RDaGFuZ2VQdWJsaXNoZWRbXSB7XG4gIHJldHVybiAoZGF0YS5vYmplY3RDaGFuZ2VzPy5maWx0ZXIoKGEpID0+IGlzKGEsIFN1aU9iamVjdENoYW5nZVB1Ymxpc2hlZCkpIGFzIFN1aU9iamVjdENoYW5nZVB1Ymxpc2hlZFtdKSA/PyBbXTtcbn1cbiJdfQ==