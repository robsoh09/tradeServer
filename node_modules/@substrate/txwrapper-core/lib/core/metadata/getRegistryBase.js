"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getRegistryBase = void 0;
const types_1 = require("@polkadot/types");
const createMetadata_1 = require("./createMetadata");
/**
 * Create a type registry given chainProperties, specTypes, and metadataRpc.
 */
function getRegistryBase({ chainProperties, specTypes, metadataRpc, asCallsOnlyArg, signedExtensions, userExtensions, typesBundle, additionalTypes, }) {
    const registry = new types_1.TypeRegistry();
    const generatedMetadata = (0, createMetadata_1.createMetadataUnmemoized)(registry, metadataRpc, asCallsOnlyArg);
    registry.register(specTypes);
    if (additionalTypes) {
        registry.register(additionalTypes);
    }
    registry.setMetadata(generatedMetadata, signedExtensions, userExtensions);
    registry.setKnownTypes({ typesBundle });
    // Register the chain properties for this registry
    registry.setChainProperties(registry.createType('ChainProperties', chainProperties));
    return registry;
}
exports.getRegistryBase = getRegistryBase;
//# sourceMappingURL=getRegistryBase.js.map